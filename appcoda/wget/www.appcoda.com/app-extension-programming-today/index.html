<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Introduction to iOS 8 App Extension: Creating a Today Widget</title><link href="/prismjs/prism.css" rel="stylesheet" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<!-- This site is optimized with the Yoast WordPress SEO plugin v2.1.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="In this programming tutorial, we&#039;ll explore app extension in iOS 8 SDK. You&#039;ll learn how to create a widget in the Today view of notification center."/>
<link rel="canonical" href="http://www.appcoda.com/app-extension-programming-today/" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="In this programming tutorial, we&#039;ll explore app extension in iOS 8 SDK. You&#039;ll learn how to create a widget in the Today view of notification center."/>
<meta name="twitter:title" content="Introduction to iOS 8 App Extension: Creating a Today Widget"/>
<meta name="twitter:site" content="@appcodamobile"/>
<meta name="twitter:domain" content="AppCoda"/>
<meta name="twitter:image:src" content="http://www.appcoda.com/wp-content/uploads/2014/10/app-extension-today-featured.jpg"/>
<meta name="twitter:creator" content="@appcodamobile"/>
<script type='application/ld+json'>{"@context":"http:\/\/schema.org","@type":"WebSite","url":"http:\/\/www.appcoda.com\/","name":"AppCoda"}</script>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="AppCoda &raquo; Feed" href="http://feeds.feedburner.com/appcoda" />
<link rel="alternate" type="application/rss+xml" title="AppCoda &raquo; Comments Feed" href="http://www.appcoda.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="AppCoda &raquo; Introduction to iOS 8 App Extension: Creating a Today Widget Comments Feed" href="http://www.appcoda.com/app-extension-programming-today/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.appcoda.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.1"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f;c.supports={simple:d("simple"),flag:d("flag")},c.supports.simple&&c.supports.flag||(f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='mediaelement-css'  href='http://www.appcoda.com/wp-includes/js/mediaelement/mediaelementplayer.min.css?ver=2.16.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='http://www.appcoda.com/wp-includes/js/mediaelement/wp-mediaelement.css?ver=4.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='eleven40-theme-css'  href='http://www.appcoda.com/wp-content/themes/eleven40/style.css?ver=2.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='contact-form-7-css'  href='http://www.appcoda.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='ej-socialslideout-content-style-css'  href='http://www.appcoda.com/wp-content/plugins/ej-socialslider/static/slideout.css?ver=4.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='et_monarch-open-sans-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' type='text/css' media='all' />
<link rel='stylesheet' id='et_monarch-css-css'  href='http://www.appcoda.com/wp-content/plugins/monarch/css/style.css?ver=1.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='codecolorer-css'  href='http://www.appcoda.com/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.9' type='text/css' media='screen' />
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/jquery/jquery.js?ver=1.11.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/wp-fluid-images//lib/fluidimage.js?ver=1.0'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/ej-socialslider/static/slideout.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/optin-monster/assets/js/api.js?ver=2.1.6.6'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/qards//js/iframeResizer.min.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/qards//js/iframeResizer.contentWindow.min.js?ver=4.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.appcoda.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.appcoda.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.2.1" />
<link rel='shortlink' href='http://www.appcoda.com/?p=4198' />
<style type="text/css" id="et-social-custom-css">
				 
			</style><link rel="Shortcut Icon" href="http://www.appcoda.com/wp-content/themes/eleven40/images/favicon.ico" type="image/x-icon" />
<link rel="pingback" href="http://www.appcoda.com/xmlrpc.php" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-223304-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head>
<body class="single single-post postid-4198 single-format-standard et_monarch header-image content-sidebar"><div id="wrap"><div id="header"><div class="wrap"><div id="title-area"><p id="title"><a href="http://www.appcoda.com/">AppCoda</a></p><p id="description">Your iOS Programming Community</p></div><div class="widget-area header-widget-area"><div id="nav_menu-2" class="widget widget_nav_menu"><div class="widget-wrap"><div class="menu-default-container"><ul id="menu-default" class="menu genesis-nav-menu js-superfish"><li id="menu-item-26" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="http://www.appcoda.com/about/">About</a></li>
<li id="menu-item-28" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-28"><a href="http://www.appcoda.com/tutorials/">Tutorials</a></li>
<li id="menu-item-530" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-530"><a href="http://www.appcoda.com/ios-programming-course/">Course</a></li>
<li id="menu-item-3045" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3045"><a title="Swift Programming Book for iOS 8" href="http://www.appcoda.com/swift">Book</a></li>
<li id="menu-item-2140" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2140"><a href="http://www.appcoda.com/ios-app-kit/ios-game-kit.html">Game Kit</a></li>
<li id="menu-item-710" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-710"><a href="http://www.appcoda.com/marketplace/">Marketplace</a></li>
<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="http://www.appcoda.com/contact/">Contact</a></li>
</ul></div></div></div>
</div></div></div><div id="inner"><div class="wrap"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Leaderboard Responsive Ad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8501671653071605"
     data-ad-slot="1756840139"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div id="content-sidebar-wrap"><div id="content" class="hfeed"><div class="post-4198 post type-post status-publish format-standard hentry category-course category-intermediate category-swift-2 category-tutorials tag-app-extension tag-ios-8 tag-ios-programming tag-ios-tutorial tag-swift entry"><h1 class="entry-title">Introduction to iOS 8 App Extension: Creating a Today Widget</h1> 
<div class="post-info"><span class="date published time" title="2014-10-22T01:02:03+00:00">October 22, 2014</span>  by <span class="author vcard"><span class="fn"><a href="http://www.appcoda.com/author/joyceechessa/" rel="author">Joyce Echessa</a></span></span> <span class="post-comments"><a href="http://www.appcoda.com/app-extension-programming-today/#comments"><span class="dsq-postid" data-dsqidentifier="4198 http://www.appcoda.com/?p=4198">16 Comments</span></a></span> </div><div class="entry-content">
<!-- Quick Adsense WordPress Plugin: http://quicksense.net/ -->
<div style="float:right;margin:10px 0 10px 10px;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8501671653071605";
/* Appcoda_300x250_iPhone_Development */
google_ad_slot = "8132041053";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<p>In iOS 8, Apple introduced app extensions which let you extend functionality beyond your app and make it available to users from other parts of the system like in other apps or from the Notification Center. iOS defines different types of extensions, each tied to an area of the system such as the keyboard, Notification Center, e.t.c. A system area that supports extensions is called an extension point. Below is a list of the extension points in iOS.</p>
<ul>
<li>Today &#8211; Shows brief information and can allow performing of quick tasks in the Today view of Notification Center</li>
<li>Share &#8211; Share content with others or post to a sharing website</li>
<li>Action &#8211; Manipulate content in a host app</li>
<li>Photo Editing &#8211; Edit photos or videos within the Photos app</li>
<li>Document Provider &#8211; Provide access to and manage a repository of files</li>
<li>Custom Keyboard &#8211; Provide a custom keyboard to replace the iOS system keyboard</li>
</ul>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/app-extension-today-featured.jpg" alt="app-extension-today-featured" class="aligncenter size-full wp-image-4233" /></div>
<p>    We will cover all these extension points in this and subsequent tutorials. With this article, we will focus on the <strong>Today Extension</strong>.<br />
<span id="more-4198"></span></p>
<h2>How Extensions Work</h2>
<p>    Before getting started with the Today Extensions, first let&#8217;s take a look at how extensions work as some of the concepts covered here will be used later in the tutorial.</p>
<p>    To start off, extensions cannot be stand alone apps. They are delivered via the App Store as part of the app bundle. The app that the extension is bundled with is known as the container app while the app that invokes the extension is the host app. You can have more than one extension in a container app.</p>
<p>    When an extension is running, it doesn&#8217;t run in the same process as the container app. Every instance of your extension runs as its own process. It is also possible to have one extension run in multiple processes at the same time. For instance, if let&#8217;s say, you have a sharing extension which is invoked in Safari. An instance of the extension, a new process, is going to be created to serve Safari. Now, if the user goes over to Mail and launches your share extension, a new process of the extension is created again. These two processes aren&#8217;t going to share address spaces.</p>
<p>    An extension cannot communicate directly with its container app, nor can it enable communication between the host app and container app. However, indirect communication with its container app is possible via <em>openURL()</em> or via a shared data container like the use of <em>NSUserDefaults</em> to store data which both extension and container app can read and write to.</p>
<h2>The Today Extension</h2>
<p>    Today extensions, also known as widgets, appear on the Today View of the Notification Center. They provide brief pieces of information to the user and they even allow some interaction, though limited, right from the Notification Center. You&#8217;ve seen these available in previous versions of iOS, for e.g. Reminders, Stocks and Weather. In iOS 8, third party apps can now have their own widgets.</p>
<p>    We are going to see how to create a widget. So that we can focus on this and not on creating an app from scratch, I have provided a starter project that you can download <a href="https://www.dropbox.com/s/rubzkicvmlt1r81/app_ext_today_starter_project.zip?dl=0">here</a>. The project is of a simple weather app which shows various weather information of a particular location. You will need an internet connection for the data to be fetched. To keep it simple, I didn&#8217;t include any GeoLocation functionality, and so user&#8217;s location is assumed to be Cupertino, CA. (You can easily modify the app to get weather data of your current location by using core location and placing the latitude and longitude values in the API url. A good tutorial on how to do this can be found <a href="http://www.appcoda.com/how-to-get-current-location-iphone-user/">here</a> ).</p>
<p>    The project comes with an API key that you can use, but should it stop working, you can register at <a href="http://forecast.io/">forecast.io</a> to get your own API key. Then replace the key in the url in the WeatherService.swift file</p>
<p>    On running the app, you should see a view with weather details as shown below.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/starter_project.png" alt="App Extension Demo - Starter Project" class="aligncenter size-full wp-image-4218" /></div>
<p>    We are going to create a Today extension of the app that will show a brief summary of the weather in a view that can be expanded to reveal more data. We&#8217;ll also see how we can share data between the container app and extension. We&#8217;ll use this shared data to enable the user to set the location they want weather information on.</p>
<h2>Embedded Frameworks and Code Reuse</h2>
<p>    Extensions are created in their own targets separate from the container app. This means that you can&#8217;t access common code files as you normally would in your project. To allow for code reuse between the container app and extension, you create an embedded framework which can be used across both targets. Place code that will need to be used by both the container app and extension in the framework to avoid code repetition.</p>
<p>    In our app, both the extension and container app make a call to an API and update properties with the data from the API. Without using a framework, we would have to maintain two code bases with similar code, which would be inefficient and prone to errors.</p>
<p>    To create a framework, select your project in The Project Navigator and add a new target by selecting Editor &gt; Add Target.</p>
<p>    Select iOS &gt; Framework &amp; Library &gt; Cocoa Touch Framework from the window that appears. Set its name as WeatherDataKit and check that the language is Swift (we use Swift here, but you can select whichever language you prefer). Leave the rest of the options as they are and click Finish.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/weather_data_kit.png" alt="App Extension - Weather Data Kit" class="aligncenter size-full wp-image-4220" /></div>
<p>    You will see a new target in the list of targets and a new group folder in the Project Navigator. When you expand the WeatherDataKit group, you will see WeatherDataKit.h. If you are using objective C or if you have any objective C files in your framework, then you will include all public headers of your framework here. We don&#8217;t have objective C code in our framework, so we won&#8217;t be editing this file.</p>
<p>    You should note that app extensions are somewhat limited in what they can do and therefore not all Cocoa Touch APIs are available for use in extensions. For instance extensions cannot do the following:</p>
<ul>
<li>Access the camera or microphone on an iOS device</li>
<li>Receive data using AirDrop (It can however send data using AirDrop)</li>
<li>Perform long-running background tasks</li>
<li>Use any API marked in header files with the NS_EXTENSION_UNAVAILABLE macro, or similar unavailability macro, or any API in an unavailable framework for example EventKit and HealthKit are unavailable to app extensions.</li>
<li>Access a sharedApplication object, and so cannot use any of the methods on that object</li>
</ul>
<p>    You can have the compiler let you know when you use disallowed APIs by selecting your framework from the list of targets. On the General tab, on the Deployment Info section, check Allow app extension API only.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/app_extension_api.png" alt="app_extension_api" class="aligncenter size-full wp-image-4207" /></div>
<p>    In the starter project, I had abstracted out common code into the files that are under the WeatherData folder group. Drag this folder into the WeatherDataKit group.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/weather_group.png" alt="App Extension - Weather Group" class="aligncenter size-full wp-image-4221" /></div>
<p>    Merely dragging a file from one target to another doesn&#8217;t make the file part of that target though. You have to change the file&#8217;s target membership yourself. To do this, select the WeatherDataViewController.swift file from the Project Navigator. Then open the File Inspector and change the files target in the Target Membership section by unchecking the Weather target and checking the WeatherDataKit target. Do the same for the WeatherService.Swift and WeatherData.swift files.</p>
<p>    After doing this, there will be some error messages in ViewController.swift. Include the following import statement at the top of the file.</p>
<div class="codecolorer-container text geshi language-swift" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">import WeatherDataKit</div></td></tr></tbody></table></div>
<p>Build the app and it should work as before.</p>
<h2>Creating the Widget</h2>
<p>    To create a widget, we&#8217;ll use the Today extension point template that Xcode provides. Select the project in the Project Navigator and add a new target by selecting Editor &gt; Add Target. Select iOS &gt; Application Extension &gt; Today Extension and then click Next.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/create_widget.png" alt="App Extension - Create Widget" class="aligncenter size-full wp-image-4211" /></div>
<p>    Set the Product Name to Weather Widget and leave the rest of the settings as they are. Click Finish.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/name_widget.png" alt="App Extension - Name Widget" class="aligncenter size-full wp-image-4216" /></div>
<p>    You will get a prompt asking if you want to activate the Weather Widget scheme. Press Activate. Another Xcode scheme has been created for you and you can switch schemes by navigating to Product &gt; Scheme and then selecting the scheme you want to switch to. You can also switch schemes from the Xcode toolbar.</p>
<p>    From the list of available targets, select Weather Widget then on the General tab press the + button under Linked Frameworks and Libraries. Select WeatherDataKit.framework and press Add.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/add_framework.png" alt="App Extension - Add Framework" class="aligncenter size-full wp-image-4206" /></div>
<p>    With the framework linked, we can now implement the extension.</p>
<p>    In the Project Navigator you will see that a new group with the widget&#8217;s name was created. This contains the extensions storyboard, view controller and property list file. The plist file contains information about the widget and most often you won&#8217;t need to edit this file, but an important key that you should be aware of is the NSExtension dictionary. This contains the NSExtensionMainStoryboard key with a value of the widget&#8217;s storyboard name, in our case &#8220;MainInterface&#8221;. If you don&#8217;t want to use the storyboard file provided by the template, you will have to change this value with the name of your storyboard file.</p>
<p>    Open MainInterface.storyboard. You’ll see a simple view with a Hello World label. To run the extension, make sure the Weather Widget scheme is selected in Xcode&#8217;s toolbar and hit Run. A window will pop up for you to chose an app to run. This lets Xcode know which host app to run. Chose Today. With this selection, iOS will know to open Notification Center in the Today view, which in turn launches your widget. Notification Center is the Today Extension&#8217;s host app. Click Run and you should see the widget on your simulator&#8217;s/device&#8217;s Notification Center.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/widget_initial_run.png" alt="App Extension - Widget Initial Run" class="aligncenter size-full wp-image-4223" /></div>
<p>    To display the weather data in our image, we first import the WeatherDataKit framework into our view controller. Add the following to the TodayViewController.swift file.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">import WeatherDataKit</div></td></tr></tbody></table></div>
<p>Then make the class a subclass of WeatherDataViewController by changing its declaration to the following.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">class TodayViewController: WeatherDataViewController, NCWidgetProviding</div></td></tr></tbody></table></div>
<p>Delete the Hello World label. Set the view&#8217;s height to 270 (Leave the width at 320).</p>
<p>    Drag two labels and a button into the main view. Set the text of the labels as &#8220;Cupertino, CA&#8221; and &#8220;100&#8221; respectively and their color to Red: 66, Green: 145 and Blue: 211 (usually, you should select bright colors for your widget controls so that they are visible in the Notification Center&#8217;s dark blurry background). Delete the button&#8217;s title and set its image to &#8216;caret&#8217;. The caret.png file was included in the starter project. When you run the app, the image will not appear on the button. This is because the asset catalog has only been added to the container app&#8217;s target. To add it to the extension&#8217;s target, select Images.xcassets and in File Inspector, check Weather Widget. Leave the Weather target checked.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/asset_catalog.png" alt="App Extension Demo - Asset Catalog" class="aligncenter size-full wp-image-4208" /></div>
<p>    Drag a view into the main view and stretch it out so that its left and right and bottom sides hug the main view. Place the views roughly as shown below. You don&#8217;t need to be accurate, we will use Auto Layout for this. For visibility, I have left the view&#8217;s background color as white, but we will set it to clear color so that the whole widget blends with the Notification Center background.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/initial_widget_view.png" alt="App Extension - Initial Widget View" class="aligncenter size-full wp-image-4213" /></div>
<p>    Select the view you just added, open the Identity Inspector and enter MoreDetailsContainer in the Label field of the Documents pane(you might need to expand the Documents pane to reveal the Label field). This gives the view a name and makes it easier to identify in the Document Inspector. Also set the views background color to clear color in the Attributes Inspector. You should have the following.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/widget_without_other_data.png" alt="Widget without other data" class="aligncenter size-full wp-image-4227" /></div>
<p>    The <a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/ExtensibilityPG/index.html">Apple Extensions Guide</a> recommends widgets to be small and to have an adjustable height that allows users to show or hide information as appropriate. If your widget only shows brief information, this won&#8217;t be necessary but if it shows a lot of data, it is better to only make the most important information visible and allow the user the ability to expand the view to show more data. This is what we will do with our widget. The widget will only display the location and current temperature and on tapping the button with the caret image, the view will expand to reveal more weather data. We will set this data&#8217;s location and constraints relative to the MoreDetailsContainer view so that hiding and displaying this data will just be a matter of adjusting the MoreDetailsContainer view&#8217;s constraints.</p>
<p>    Add the labels for the other data and place them on the MoreDetailsContainer view. Give them titles as shown below. You can set your own title, but note that I will be referring to them by their title if I need to e.g. summary label, Mostly Cloudy label, 100 label, e.t.c. I set the color of these labels to Light Text Color.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/widget_with_labels_added.png" alt="App Widget with Label Added" class="aligncenter size-full wp-image-4225" /></div>
<p>    Select the Cupertino, CA label and then select Editor &gt; Size to Fit Content. Do the same for the other labels that will be populated by the API call i.e. the 100, Mostly Cloudy, 0.65, 0.10 and 02:00 PM labels.</p>
<p>    We&#8217;ll now add Auto Layout constraints to the view. Select the MoreDetailsContainer and then select Pin from the Auto Layout controls at the bottom of the Interface Builder canvas. Pin its Leading, Trailing and Bottom space to 0 and its Height to 220. Uncheck Constrain to margin checkbox. With this unchecked, there will be no padding around your view.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/container_view_constraints.png" alt="App Extension - Container View Constraint" class="aligncenter size-full wp-image-4210" /></div>
<p>    Select the Cupertino, CA label and pin its Top and Leading space to 13 and 20 respectively. Make sure Constrain to margin is unchecked (for the rest of the article, have it unchecked for all the constraints we add)</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/cupertino_constraints.png" alt="cupertino_constraints" class="aligncenter size-full wp-image-4212" /></div>
<p>    Select the caret button and pin its Top, Trailing and Bottom spaces to 10, 20, 10. Set its Width and Height to 30 and make sure both these checkboxes are selected.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/caret_constraints.png" alt="caret_constraints" class="aligncenter size-full wp-image-4209" /></div>
<p>    Select the 100 label and pin its Top and Trailing spaces to 13 and 20 respectively.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/temperature_constraint.png" alt="temperature constraint" class="aligncenter size-full wp-image-4219" /></div>
<p>    Control-Drag from the Mostly Cloudy label to the Summary label and select Center Y. This will align the two labels centers. Do this for the other pairs of labels i.e. 0.65 and Humidity, 0.10 and Precipitation, e.t.c.</p>
<p>    Select the Summary label and pin its Leading and Top spaces to 20 each. Also check its Width checkbox and set the value to 130.</p>
<p>    Control drag from the Mostly Cloudy label to the Summary label and select Horizontal Spacing. Then select this constraint either from the view controller or from the document outline. In the Size Inspector, change the constraint&#8217;s Constant to 20.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/modify_option_a.png" alt="modify_option_a" class="aligncenter size-full wp-image-4214" /></div>
<p>    You can also select the constraint by selecting the Mostly Cloudy label, and then in Size Inspector in the Constraints pane, find the Leading Space to SUMMARY constraint and edit its Constant to 20.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/modify_option_b.png" alt="modify_option_b" class="aligncenter size-full wp-image-4215" /></div>
<p>    Control-Drag from the Humidity label to the Summary label and select Left. This will align its Leading position to the Summary label&#8217;s Leading position. Select that constraint and in the Size Inspector, make sure that its Constant is set to 0. Sometimes when you align the views Leading positions, a constant is set which will make them not properly aligned. Do the same for the Precipitation and Last Updated labels &#8211; Control-Dragging to the Summary label and selecting Left, then making sure the constraints Constant is 0.</p>
<p>    Next select the Humidity label and Pin its Top space to 20. This sets its distance from the Summary label. Do the same for the Precipitation and Last Updated labels. Setting their distance from the conrol on top of them to 20 points.</p>
<p>    Next Control-Drag from the 0.65 label to Mostly Cloudy label and select Left. Do the same for the 0.10 and 02:00 PM labels. This will align the labels starting point. Then select the main view and select Editor &gt; Resolve Auto Layout Issues, under All Views, select Update Frames. Interface Builder will now show the constraints in their set positions.</p>
<p>    Before setting up the labels to show real data from the API, run the app to make sure that everything is set correctly. You should see the following.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/widget_after_auto_layout.png" alt="App Widget after auto layout" class="aligncenter size-full wp-image-4222" /></div>
<p>    You&#8217;ll notice that the widget has a large left margin. If you want to fill the entire width of Notification Center, implement the following method. Place the following code in the TodayViewController class.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func widgetMarginInsetsForProposedMarginInsets<br />
&nbsp; &nbsp; &nbsp; &nbsp; (defaultMarginInsets: UIEdgeInsets) -&amp;gt; (UIEdgeInsets) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; return UIEdgeInsetsZero<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Run the project again and your widget will now fill the width of the Notification Center.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/widget_width_fit.png" alt="widget_width_fit" class="aligncenter size-full wp-image-4224" /></div>
<p>    To implement the view&#8217;s Show More button, open the Assistant Header to reveal the TodayViewController.swift file next to the storyboard. Control Drag from the button to the view controller file and add an Outlet. Name it showMoreButton. Then Control-Drag again from the button and change the Connection to Action. Set the Type to UIButton and Name to showMore. You should have the following code added to the class.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; @IBOutlet weak var showMoreButton: UIButton!<br />
<br />
&nbsp; &nbsp; @IBAction func showMore(sender: UIButton) {<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>We then need to create an outlet for the MoreDetailsContainer view&#8217;s height constraint. We&#8217;ll be changing its value to expand and shrink the view. In Document Outline, expand the MoreDetailsContainer and expand its constraints. Find the height constraint. It should be labelled Height &#8211; (220) &#8211; MoreDetailsContainer. Control-Drag from it to the view controller and create an Outlet. Name it &#8216;moreDetailsContainerHeightConstraint&#8217;. You should have the following.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; @IBOutlet weak var moreDetailsContainerHeightConstraint: NSLayoutConstraint!</div></td></tr></tbody></table></div>
<p>Add the following property which will keep track of whether the view is expanded.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; var widgetExpanded = false</div></td></tr></tbody></table></div>
<p>In viewDidLoad() add the following</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; moreDetailsContainerHeightConstraint.constant = 0</div></td></tr></tbody></table></div>
<p>This sets that view&#8217;s height constraints’ constant to 0, so that it&#8217;s hidden by default.</p>
<p>    Modify the <em>showMore()</em> action method as follows.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; @IBAction func showMore(sender: UIButton) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; if widgetExpanded {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; moreDetailsContainerHeightConstraint.constant = 0<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showMoreButton.transform = CGAffineTransformMakeRotation(0)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; widgetExpanded = false<br />
&nbsp; &nbsp; &nbsp; &nbsp; } else {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; moreDetailsContainerHeightConstraint.constant = 220<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showMoreButton.transform = CGAffineTransformMakeRotation(CGFloat(180.0 * M_PI/180.0))<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; widgetExpanded = true<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>This checks to see if the view has been expanded, and sets the constraint back to 0, otherwise it sets it to 220, which is the height we had specified for the view. We also add an animation where the button caret faces down when the view is collapsed and points up when the view has been expanded.<br />
    With the interface set up, we should now connect the extension&#8217;s controls with the superview&#8217;s outlets. Open the extension&#8217;s storyboard file. In the Documents Outline, Control-Drag from the Today View Controller to the Cupertino, CA label and select locationLabel. Do the same for the 100 label and select temperatureLabel. Repeat for Mostly Cloudy(summaryLabel), 0.65(humidityLabel), 0.10(precipitationLabel) and 02:00 PM(timeLabel).</p>
<p>    In TodayViewController.swift add the following property to the class.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; var latLong = &quot;37.331793,-122.029584&quot;</div></td></tr></tbody></table></div>
<p>Add the following at the end of viewDidLoad()</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; temperatureLabel.text = &quot;--&quot;<br />
&nbsp; &nbsp; summaryLabel.text = &quot;--&quot;<br />
&nbsp; &nbsp; timeLabel.text = &quot;--&quot;<br />
&nbsp; &nbsp; humidityLabel.text = &quot;--&quot;<br />
&nbsp; &nbsp; precipitationLabel.text = &quot;--&quot;</div></td></tr></tbody></table></div>
<p>Then add the following method to the class. This makes the call to the API and updates the view.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; override func viewDidAppear(animated: Bool) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; super.viewDidAppear(animated)<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; getWeatherData(latLong, completion: { (error) -&amp;gt; () in<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if error == nil {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.updateData()<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; })<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Run the app and the widget should populate with real data.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/widget_with_real_data.png" alt="App Weather Widget with Real Data" class="aligncenter size-full wp-image-4226" /></div>
<p>    To enable the widget to update its view when it&#8217;s off-screen make the following changes to the `widgetPerformUpdateWithCompletionHandler`. The system takes a snapshot of the widget and periodically, will try to update it. If it updates successfully, the function calls the system-provided completion block with the NCUpdateResult.NewData enumeration. If the update wasn&#8217;t successful, then the existing snapshot is used.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func widgetPerformUpdateWithCompletionHandler(completionHandler: ((NCUpdateResult) -&amp;gt; Void)!) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; getWeatherData(latLong, completion: { (error) -&amp;gt; () in<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if error == nil {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.updateData()<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionHandler(.NewData)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionHandler(.NoData)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; })<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<h2>Sharing NSUserDefaults between your app and a Today Extension</h2>
<p>    As stated earlier, a widget cannot directly communicate with a host app. Having them communicate may however be necessary for your project specification especially if you allow a user to configure some settings on the container app that will affect the extension. You can share data between extension and container app through NSUserDefaults.</p>
<p>    We will see how to do this by enabling the user to select a location to view its weather information. The starter project contains a table view controller with a set number of locations the user can choose from. The location variety is hardcoded &#8211; this isn&#8217;t the best way to store data, but for this demo, it will do.</p>
<p>    To get started, change your scheme with Product &gt; Scheme &gt; Weather. In the storyboard file, select the Main View of the View Controller Scene and select Editor &gt; Embed In &gt; Navigation Controller. This will place a navigation bar at the top of the view. Drag a Bar Button Item from the object library and place it on the right side of the navigation bar. Set its title to Edit. Control-Drag from this Bar Button Item to the table view controller and select the &#8216;show&#8217; segue. Run the application and on tapping on the Edit button, you will see a table view with a list of locations. The My Location cell is selected by default. Selecting any other cell will move the check mark to it. We will save this data to NSUserDefaults so that the widget shows data of the selected location</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/select_location.png" alt="Select Location" class="aligncenter size-full wp-image-4217" /></div>
<p>    To enable reading from the same set of NSUserDefaults, select your main app target and choose the Capabilities tab. Switch on App Groups (you will require a developer account for this).</p>
<p>    Create a new container and give it a unique name. According to the help, it must start with &#8220;group.&#8221;. I set the name to &#8216;group.com.appcoda.weather&#8217;.</p>
<p>    Select the Weather Widget target and repeat the above process of switching on App Groups. Don&#8217;t create a new container for it though. Use the one you had created for the Weather target.</p>
<p>    Open LocationTableViewController.swift and add the following property to the class.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; var defaults: NSUserDefaults = NSUserDefaults(suiteName: &quot;group.com.appcoda.weather&quot;)</div></td></tr></tbody></table></div>
<p>This will be used to read and write to NSUserDefaults. You must use the name of your group you created earlier as the suite name.</p>
<p>    Modify the <em>refresh()</em> function as follows. Here we check to see if the user has set another location other than My Location as the location to track weather data. If they had done so, we set the value of <em>selectedLocation</em> to this new location.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func refresh() {<br />
&nbsp; &nbsp; &nbsp; &nbsp; // hasSetLocation is set in NSUserDefaults to track whether the user has set any other location apart from My Location<br />
&nbsp; &nbsp; &nbsp; &nbsp; var hasSetOtherLocation: Bool? = defaults.boolForKey(&quot;hasSetLocation&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; if let hasSetLoc = hasSetOtherLocation {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (hasSetLoc == true) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; selectedLocation = Location.fromRaw(defaults.integerForKey(&quot;location&quot;))!<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; for i in 0..&amp;lt;Location.NumLocationTypes.toRaw() {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var cell:UITableViewCell = tableView(self.tableView, cellForRowAtIndexPath: NSIndexPath(forRow: i, inSection: 0))<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell.accessoryType = selectedLocation.toRaw() == i ? UITableViewCellAccessoryType.Checkmark : UITableViewCellAccessoryType.None<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Modify the <em>tableView(tableView: didSelectRowAtIndexPath:)</em> function as shown. We check for the selected location and if it isn&#8217;t My Location, then we save the location data to NSUserDefaults. These will be accessed by the container app and widget.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; tableView.deselectRowAtIndexPath(indexPath, animated: true)<br />
&nbsp; &nbsp; &nbsp; &nbsp; selectedLocation = Location.fromRaw(indexPath.row)!<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; // If other location is selected then set values that will be used in the API call and to populate the view, otherwise the default Cupertino values will be used<br />
&nbsp; &nbsp; &nbsp; &nbsp; if (selectedLocation != .MyLocation) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; defaults.setInteger(indexPath.row, forKey: &quot;location&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; defaults.setBool(true, forKey: &quot;hasSetLocation&quot;)<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let locationData: (String, String) = getLocationData(selectedLocation)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let locationDictionary = [&quot;name&quot;: locationData.0, &quot;latLong&quot;: locationData.1]<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; defaults.setObject(locationDictionary, forKey: &quot;locationData&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; } else {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; defaults.setBool(false, forKey: &quot;hasSetLocation&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; self.refresh()<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Below is the function that gets information on the selected location. As I mentioned before, I hardcoded the data for the demo. The function returns a Tuple that holds the location&#8217;s coordinates and name.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func getLocationData(location: Location) -&amp;gt; (String, String) {<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; switch location {<br />
&nbsp; &nbsp; &nbsp; &nbsp; case .MicrosoftHQ:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (&quot;Redmond, WA&quot;, &quot;51.461231,-0.9259415&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; case .FacebookHQ:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (&quot;Menlo Park, CA&quot;, &quot;37.484765,-122.148549&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; case .GoogleHQ:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (&quot;Mountain View, CA&quot;, &quot;37.422,-122.084058&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; default:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // This will never be reached, but switch blocks have to be exhaustive<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (&quot;&quot;, &quot;&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>In ViewController.swift, add the following property to the class.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; var defaults: NSUserDefaults = NSUserDefaults(suiteName: &quot;group.com.appcoda.weather&quot;)</div></td></tr></tbody></table></div>
<p>Add the following function to the file. This will be called before the call to the API, to check if a different location than My Location was selected and set the <em>latLong</em> property with the coordinates of that location. It also updates the text for the <em>locationLabel</em> with the name of the location.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func checkForSetLocation() {<br />
&nbsp; &nbsp; &nbsp; &nbsp; // hasSetLocation is set in NSUserDefaults to track whether the user has set any other location apart from My Location<br />
&nbsp; &nbsp; &nbsp; &nbsp; var hasSetOtherLocation: Bool? = defaults.boolForKey(&quot;hasSetLocation&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; if let hasSetLoc = hasSetOtherLocation {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (hasSetLoc == true) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let locationDict: NSDictionary? = defaults.objectForKey(&quot;locationData&quot;) as? NSDictionary<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if let dictionary = locationDict {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; locationLabel.text = dictionary[&quot;name&quot;] as? String<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; latLong = dictionary[&quot;latLong&quot;] as String<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Call this method before the call to the API.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; override func viewDidAppear(animated: Bool) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; super.viewDidAppear(animated)<br />
&nbsp; &nbsp; &nbsp; &nbsp; checkForSetLocation()<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; getWeatherData(latLong, completion: { (error) -&amp;gt; () in<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if error == nil {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.updateData()<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; })<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>In TodayViewController add the following property to the class.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; var defaults: NSUserDefaults = NSUserDefaults(suiteName: &quot;group.com.appcoda.weather&quot;)</div></td></tr></tbody></table></div>
<p>Add the following function to the class. Notice that we are using similar code in the container app&#8217;s view controller and the widget&#8217;s view controller. If you find yourself repeating code in several places, then it might be best to place the code in a framework.</p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func checkForSetLocation() {<br />
&nbsp; &nbsp; &nbsp; &nbsp; // hasSetLocation is set in NSUserDefaults to track whether the user has set any other location apart from My Location<br />
&nbsp; &nbsp; &nbsp; &nbsp; var hasSetOtherLocation: Bool? = defaults.boolForKey(&quot;hasSetLocation&quot;)<br />
&nbsp; &nbsp; &nbsp; &nbsp; if let hasSetLoc = hasSetOtherLocation {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (hasSetLoc == true) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let locationDict: NSDictionary? = defaults.objectForKey(&quot;locationData&quot;) as? NSDictionary<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if let dictionary = locationDict {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; locationLabel.text = dictionary[&quot;name&quot;] as? String<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; latLong = dictionary[&quot;latLong&quot;] as String<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Call the method before the API call in <em>viewDidAppear()</em></p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; override func viewDidAppear(animated: Bool) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; super.viewDidAppear(animated)<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; checkForSetLocation()<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; getWeatherData(latLong, completion: { (error) -&amp;gt; () in<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if error == nil {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.updateData()<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; })<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Do the same in <em>widgetPerformUpdateWithCompletionHandler()</em></p>
<div class="codecolorer-container text geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br /></div></td><td><div class="text codecolorer" style="white-space:nowrap">&nbsp; &nbsp; func widgetPerformUpdateWithCompletionHandler(completionHandler: ((NCUpdateResult) -&amp;gt; Void)!) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; checkForSetLocation()<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; getWeatherData(latLong, completion: { (error) -&amp;gt; () in<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if error == nil {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.updateData()<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionHandler(.NewData)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; completionHandler(.NoData)<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; })<br />
&nbsp; &nbsp; }</div></td></tr></tbody></table></div>
<p>Run the app, change locations and test that the widget does indeed update according to the set data.</p>
<h2>What&#8217;s Coming Next</h2>
<p>    In this article we have looked at how to create and configure the Today Extension in your app. In the coming weeks we will look at the other 5 extensions available for iOS, so stay tuned.</p>
<p>For your reference, you can <a href="https://www.dropbox.com/s/pmqiv539llc0mgw/app_ext_today_complete.zip?dl=0">download the complete Xcode project from here</a>.</p>

<!-- Quick Adsense WordPress Plugin: http://quicksense.net/ -->
<div style="float:none;margin:20px 0 20px 0;text-align:center;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8501671653071605";
/* Appcoda_336_280_Ad */
google_ad_slot = "4009415334";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<div style="font-size:0px;height:0px;line-height:0px;margin:0;padding:0;clear:both"></div><h3>You May Like These:</h3><div style="clear: both"></div><div style="border: 0pt none ; margin: 0pt; padding: 0pt;"><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/storyboard-tutorial-create-tab-bar-controller-and-web-view/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2012/06/Sample-App-with-Tab-Bar-Interface-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">Storyboard Tutorial: Create Tab Bar Controller and Web View</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/custom-keyboard-tutorial/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2014/10/custom-keyboard-featured-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">Creating a Custom Keyboard Using iOS 8 App Extension</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/watchkit-introduction-tutorial/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2015/01/watchkit-intro-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">WatchKit Introduction: Building a Simple Guess Game</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/custom-view-controller-transitions-tutorial/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2015/03/custom-view-transition-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">Introduction to Custom View Controller Transitions and Animations</div></div></a></div><div style="clear: both"></div><span class="et_social_bottom_trigger"></span><!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.appcoda.com/app-extension-programming-today/"
    dc:identifier="http://www.appcoda.com/app-extension-programming-today/"
    dc:title="Introduction to iOS 8 App Extension: Creating a Today Widget"
    trackback:ping="http://www.appcoda.com/app-extension-programming-today/trackback/" />
</rdf:RDF>-->
</div><div class="post-meta"><span class="categories">Filed Under: <a href="http://www.appcoda.com/course/" rel="category tag">Course</a>, <a href="http://www.appcoda.com/course/intermediate/" rel="category tag">Intermediate</a>, <a href="http://www.appcoda.com/swift-2/" rel="category tag">Swift</a>, <a href="http://www.appcoda.com/tutorials/" rel="category tag">Tutorials</a></span> <span class="tags">Tagged With: <a href="http://www.appcoda.com/tag/app-extension/" rel="tag">app extension</a>, <a href="http://www.appcoda.com/tag/ios-8/" rel="tag">iOS 8</a>, <a href="http://www.appcoda.com/tag/ios-programming/" rel="tag">iOS Programming</a>, <a href="http://www.appcoda.com/tag/ios-tutorial/" rel="tag">iOS Tutorial</a>, <a href="http://www.appcoda.com/tag/swift/" rel="tag">swift</a></span></div><div class="after-post widget-area"><div id="text-8" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Get Free Chapters of Our Swift Book</h4>
			<div class="textwidget"><a href="http://www.appcoda.com/swift/"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/swift-book-cover-227x300.png" alt="Beginning iOS 8 Programming with Swift" class="alignright size-medium wp-image-4153" width="200" /></a>If you want to create an app but don't know where to begin, this book covers the whole aspect of Swift programming and iOS 8 development and shows you every step from an idea to a real app on App Store. This book features a lot of hands-on exercises and projects. You will first create a simple app, then prototype an app idea, and later add some features to it in each chapter, until a real app is built. Want to learn more? <a href="http://www.appcoda.com/swift/">Check it out here and get three free chapters.</a>
</p>
<br/></div>
		</div></div>
<div id="featured-page-2" class="widget featured-content featuredpage"><div class="widget-wrap"><h4 class="widget-title widgettitle">Sign Up for our Free Tutorials</h4>
<div class="post-38 page type-page status-publish has-post-thumbnail hentry entry"><ul>
<li>Learn iOS Programming From Scratch</li>
<li>Step by Step Guide to Build Your First iPhone App</li>
<li>Complete Source Code for Your Reference</li>
<li>More Programming Tips and Tutorials to Come</li>
</ul>
<div class="enews">
<h4 class="widgettitle">Whatcha waiting for?</h4>
<form action="http://sendy.appcoda.com/sendy/subscribe" method="post" id="subscribe" name="mc-embedded-subscribe-form" class="validate" target="_blank" accept-charset="utf-8">
	<input type="email" id="subbox" value="" name="email" class="email" id="mce-EMAIL" placeholder="Enter your email address" required><input type="submit" value="Subscribe" name="subscribe" id="subbutton" class="button"><br />
	<input type="hidden" name="list" value="KEdC8BeT8EC8znOnfjSQAw"/><br />
</form>
</div>
</div></div></div>
</div></div><div class="author-box"><div><img alt='' src='http://0.gravatar.com/avatar/f820da721cd1faa5ef4b5e14af3f1ed5?s=70&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/f820da721cd1faa5ef4b5e14af3f1ed5?s=140&amp;d=mm&amp;r=g 2x' class='avatar avatar-70 photo' height='70' width='70' /> <strong>About Joyce Echessa</strong><br /><p>I am a web developer who also does mobile development from time to time. I have also been writing online for some time now, a process I find enjoyable and challenging, for, at times, it is when you have to explain something to someone, that you find there is still a lot to learn. You can find me on <a href="//twitter.com/joyceechessa">Twitter</a>.</p>
</div></div>
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="post pingback">
        <p>Pingback: <a href='http://vishaldharmawat.wordpress.com/2014/10/23/introduction-to-ios-8-app-extension-creating-a-today-widget/' rel='external nofollow' class='url'>Introduction to iOS 8 App Extension: Creating a Today Widget |  VishalDharmawat - iPhone and iPad Development</a>()</p>
    </li>
    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-68704">
        <div id="dsq-comment-header-68704" class="dsq-comment-header">
            <cite id="dsq-cite-68704">
http://www.artariq.com                <span id="dsq-author-user-68704">Ali R. Tariq</span>
            </cite>
        </div>
        <div id="dsq-comment-body-68704" class="dsq-comment-body">
            <div id="dsq-comment-message-68704" class="dsq-comment-message"><p>Firstly, thanks so much for making this in-depth tutorial available! However, I&#8217;m having an issue that I&#8217;m hoping you can help me with. When I try to build the Weather Widget I get the following entitlements issue:</p>
<p>Warning: Capabilities that require entitlements from &#8220;Weather Widget/Weather Widget.entitlements&#8221; may not function in the Simulator because none of the valid provisioning profiles allowed the specified entitlements: com.apple.security.application-groups.</p>
<p>When I try to have XCode fix it, it then prompt me with:</p>
<p>An App ID with identifier &#8220;com.appcoda.Weather.Weather-Widget&#8221; is not available. Please enter a different string.</p>
<p>My Bundle Identifier is set to reflect my own local project: MyProjectName.WeatherDataKit</p>
<p>Can you please advise what&#8217;s the best way to resolve this?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-72306">
        <div id="dsq-comment-header-72306" class="dsq-comment-header">
            <cite id="dsq-cite-72306">
                <span id="dsq-author-user-72306">Markus Müller</span>
            </cite>
        </div>
        <div id="dsq-comment-body-72306" class="dsq-comment-body">
            <div id="dsq-comment-message-72306" class="dsq-comment-message"><p>The link to the Project files is down. Could you create a new link please?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-73006">
        <div id="dsq-comment-header-73006" class="dsq-comment-header">
            <cite id="dsq-cite-73006">
                <span id="dsq-author-user-73006">dee</span>
            </cite>
        </div>
        <div id="dsq-comment-body-73006" class="dsq-comment-body">
            <div id="dsq-comment-message-73006" class="dsq-comment-message"><p>Great article . Now I know how to build a simple  today widget</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-77023">
        <div id="dsq-comment-header-77023" class="dsq-comment-header">
            <cite id="dsq-cite-77023">
                <span id="dsq-author-user-77023">Srivathsa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-77023" class="dsq-comment-body">
            <div id="dsq-comment-message-77023" class="dsq-comment-message"><p>Thanks for the good article.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-77220">
        <div id="dsq-comment-header-77220" class="dsq-comment-header">
            <cite id="dsq-cite-77220">
                <span id="dsq-author-user-77220">Jim Baughman</span>
            </cite>
        </div>
        <div id="dsq-comment-body-77220" class="dsq-comment-body">
            <div id="dsq-comment-message-77220" class="dsq-comment-message"><p>So my location dose not use core location?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-77483">
        <div id="dsq-comment-header-77483" class="dsq-comment-header">
            <cite id="dsq-cite-77483">
                <span id="dsq-author-user-77483">Podster</span>
            </cite>
        </div>
        <div id="dsq-comment-body-77483" class="dsq-comment-body">
            <div id="dsq-comment-message-77483" class="dsq-comment-message"><p>Any guidance on how to create the Today Extension with iCloud Core Data?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-83673">
        <div id="dsq-comment-header-83673" class="dsq-comment-header">
            <cite id="dsq-cite-83673">
                <span id="dsq-author-user-83673">James Fuller</span>
            </cite>
        </div>
        <div id="dsq-comment-body-83673" class="dsq-comment-body">
            <div id="dsq-comment-message-83673" class="dsq-comment-message"><p>The link to the starter project is not working right now.  I&#8217;ve tried multiple browsers and the Dropbox directory doesn&#8217;t exist.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-86723">
        <div id="dsq-comment-header-86723" class="dsq-comment-header">
            <cite id="dsq-cite-86723">
                <span id="dsq-author-user-86723">Guest</span>
            </cite>
        </div>
        <div id="dsq-comment-body-86723" class="dsq-comment-body">
            <div id="dsq-comment-message-86723" class="dsq-comment-message"><p>plz fix it&#8230; See the attached image</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-86724">
        <div id="dsq-comment-header-86724" class="dsq-comment-header">
            <cite id="dsq-cite-86724">
                <span id="dsq-author-user-86724">Vicky Mathneja</span>
            </cite>
        </div>
        <div id="dsq-comment-body-86724" class="dsq-comment-body">
            <div id="dsq-comment-message-86724" class="dsq-comment-message"><p>plz fix it&#8230; See the attached image&#8230;.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-97314">
        <div id="dsq-comment-header-97314" class="dsq-comment-header">
            <cite id="dsq-cite-97314">
http://www.echessa.com/                <span id="dsq-author-user-97314">Joyce Echessa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-97314" class="dsq-comment-body">
            <div id="dsq-comment-message-97314" class="dsq-comment-message"><p>I&#8217;ll be updating the post and code to work with the current version of Xcode. Some things changed since I wrote the code and that&#8217;s why it doesn&#8217;t work on the latest Xcode version. Thanks for letting me know.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-96273">
        <div id="dsq-comment-header-96273" class="dsq-comment-header">
            <cite id="dsq-cite-96273">
                <span id="dsq-author-user-96273">raj</span>
            </cite>
        </div>
        <div id="dsq-comment-body-96273" class="dsq-comment-body">
            <div id="dsq-comment-message-96273" class="dsq-comment-message"><p>This is a nice tutorial but unfortunately the starter project has multiple errors in the LocationTableViewController.swift file, and as I&#8217;m only just diving into Swift, I have no idea how to fix these. Any plans to post a working (error-free) project zip?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-96274">
        <div id="dsq-comment-header-96274" class="dsq-comment-header">
            <cite id="dsq-cite-96274">
                <span id="dsq-author-user-96274">raj</span>
            </cite>
        </div>
        <div id="dsq-comment-body-96274" class="dsq-comment-body">
            <div id="dsq-comment-message-96274" class="dsq-comment-message"><p>Never mind <img src="http://www.appcoda.com/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /> After letting Xcode make the suggested fixes, the base project did compile and run.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-97313">
        <div id="dsq-comment-header-97313" class="dsq-comment-header">
            <cite id="dsq-cite-97313">
http://www.echessa.com/                <span id="dsq-author-user-97313">Joyce Echessa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-97313" class="dsq-comment-body">
            <div id="dsq-comment-message-97313" class="dsq-comment-message"><p>Swift and Xcode have been updated a few times since I wrote the article and that&#8217;s why the project has errors on the latest version of Xcode (especially when it comes to how optionals are handled). I&#8217;ll be updating the post and code files soon. Thanks for the heads up.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-96275">
        <div id="dsq-comment-header-96275" class="dsq-comment-header">
            <cite id="dsq-cite-96275">
                <span id="dsq-author-user-96275">raj</span>
            </cite>
        </div>
        <div id="dsq-comment-body-96275" class="dsq-comment-body">
            <div id="dsq-comment-message-96275" class="dsq-comment-message"><p>Please note: the link to &#8220;forecast.io&#8221; is pointing to a non-existent page on appcoda.com instead of to <a href="http://forecast.io" rel="nofollow">http://forecast.io</a></p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-97604">
        <div id="dsq-comment-header-97604" class="dsq-comment-header">
            <cite id="dsq-cite-97604">
http://www.echessa.com/                <span id="dsq-author-user-97604">Joyce Echessa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-97604" class="dsq-comment-body">
            <div id="dsq-comment-message-97604" class="dsq-comment-message"><p>Fixed. Thanks.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.appcoda.com/app-extension-programming-today/';
var disqus_identifier = '4198 http://www.appcoda.com/?p=4198';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'appcoda';
var disqus_title = "Introduction to iOS 8 App Extension: Creating a Today Widget";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=4198';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

</div><div id="sidebar" class="sidebar widget-area"><div id="search-4" class="widget widget_search"><div class="widget-wrap"><form role="search" method="get" id="searchform" class="searchform" action="http://www.appcoda.com/" >
                    <div><label class="screen-reader-text" for="s">Search for:</label>
                    <input type="text" value="" name="s" id="s" />
                    <input type="submit" id="searchsubmit" value="Search" />
                    </div>
                    </form></div></div>
<div id="text-2" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Sign Up for Our Free Tutorials</h4>
			<div class="textwidget"><div class="enews"><form action="http://sendy.appcoda.com/sendy/subscribe" method="post" id="subscribe" name="mc-embedded-subscribe-form" class="validate" target="_blank" accept-charset="utf-8">
	<input type="email" id="subbox" value="" name="email" class="email" id="mce-EMAIL" placeholder="Enter your email address" required><input type="submit" value="Subscribe" name="subscribe" id="subbutton" class="button">
	<input type="hidden" name="list" value="KEdC8BeT8EC8znOnfjSQAw"/>
</form>
</div></div>
		</div></div>
<div id="text-6" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><!-- BuySellAds Zone Code -->
<div id="bsap_1283996" class="bsarocks bsap_459a84cf8fa0d5ea9dccfcfd1c3531e0"></div>
<!-- End BuySellAds Zone Code --></div>
		</div></div>
<div id="text-4" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><div class="fb-like-box" data-href="http://www.facebook.com/appcodamobile" data-width="300" data-height="260" data-show-faces="true" data-border-color="#F1F1F1" data-stream="false" data-header="false"></div></div>
		</div></div>
		<div id="recent-posts-3" class="widget widget_recent_entries"><div class="widget-wrap">		<h4 class="widget-title widgettitle">Recent Posts</h4>
		<ul>
					<li>
				<a href="http://www.appcoda.com/react-native-introduction/">Introduction to React Native: Building iOS Apps with JavaScript</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/cloudkit-introduction-tutorial/">Working with CloudKit in iOS 8</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/instagram-app-parse-swift/">Building an Instagram-Like App with Parse and Swift</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/google-maps-api-tutorial/">A Swift Tutorial for Google Maps SDK</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/ios8-share-extension-swift/">Building a Simple Share Extension in iOS 8 App</a>
						</li>
				</ul>
		</div></div>
<div id="wp_insert_ad_widget-3" class="widget widget_wp_insert_ad_widget"><div class="widget-wrap"><div class="wpInsert wpInsertAdWidget" style="margin: 5px; padding: 0px;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Premium Large Skyscraper -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-8501671653071605"
     data-ad-slot="6120307730"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div></div>
<div id="nav_menu-3" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Connect With Us</h4>
<div class="menu-sidebar-container"><ul id="menu-sidebar" class="menu"><li id="menu-item-57" class="social-twitter menu-item menu-item-type-custom menu-item-object-custom menu-item-57"><a href="http://twitter.com/appcodamobile">Twitter</a></li>
<li id="menu-item-58" class="social-facebook menu-item menu-item-type-custom menu-item-object-custom menu-item-58"><a href="http://facebook.com/appcodamobile">Facebook</a></li>
<li id="menu-item-59" class="social-rss menu-item menu-item-type-custom menu-item-object-custom menu-item-59"><a href="http://feeds.feedburner.com/appcoda">RSS</a></li>
<li id="menu-item-68" class="social-plus menu-item menu-item-type-custom menu-item-object-custom menu-item-68"><a href="https://plus.google.com/b/118438564257465271998/">Google Plus</a></li>
</ul></div></div></div>
</div></div></div></div><div id="footer-widgets" class="footer-widgets"><div class="wrap"><div class="footer-widgets-1 widget-area"><div id="nav_menu-4" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">About AppCoda</h4>
<div class="menu-default-container"><ul id="menu-default-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="http://www.appcoda.com/about/">About</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-28"><a href="http://www.appcoda.com/tutorials/">Tutorials</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-530"><a href="http://www.appcoda.com/ios-programming-course/">Course</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3045"><a title="Swift Programming Book for iOS 8" href="http://www.appcoda.com/swift">Book</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2140"><a href="http://www.appcoda.com/ios-app-kit/ios-game-kit.html">Game Kit</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-710"><a href="http://www.appcoda.com/marketplace/">Marketplace</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="http://www.appcoda.com/contact/">Contact</a></li>
</ul></div></div></div>
</div><div class="footer-widgets-2 widget-area"><div id="text-9" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Get Our New Book</h4>
			<div class="textwidget"><a href="http://www.appcoda.com/swift/"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/swift-book-cover-227x300.png" alt="Beginning iOS 8 Programming with Swift" class="alignleft size-medium wp-image-4153" /></a></div>
		</div></div>
</div><div class="footer-widgets-3 widget-area"><div id="nav_menu-5" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Connect With Us</h4>
<div class="menu-sidebar-container"><ul id="menu-sidebar-1" class="menu"><li class="social-twitter menu-item menu-item-type-custom menu-item-object-custom menu-item-57"><a href="http://twitter.com/appcodamobile">Twitter</a></li>
<li class="social-facebook menu-item menu-item-type-custom menu-item-object-custom menu-item-58"><a href="http://facebook.com/appcodamobile">Facebook</a></li>
<li class="social-rss menu-item menu-item-type-custom menu-item-object-custom menu-item-59"><a href="http://feeds.feedburner.com/appcoda">RSS</a></li>
<li class="social-plus menu-item menu-item-type-custom menu-item-object-custom menu-item-68"><a href="https://plus.google.com/b/118438564257465271998/">Google Plus</a></li>
</ul></div></div></div>
<div id="text-3" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Email Newsletter</h4>
			<div class="textwidget"><p>Sign up to receive free tutorial and
to hear what's going on with AppCoda!</p>
<div class="enews"><form action="http://sendy.appcoda.com/sendy/subscribe" method="post" id="subscribe" name="mc-embedded-subscribe-form" class="validate" target="_blank" accept-charset="utf-8">
	<input type="email" id="subbox" value="" name="email" class="email" id="mce-EMAIL" placeholder="Enter your email address" required><input type="submit" value="Subscribe" name="subscribe" id="subbutton" class="button">
	<input type="hidden" name="list" value="KEdC8BeT8EC8znOnfjSQAw"/>
</form>
</div></div>
		</div></div>
</div></div></div><div id="footer" class="footer"><div class="wrap">    <p>&copy; Copyright 2015 <a href="http://appcoda.com/">AppCoda</a> &middot; All Rights Reserved &middot; Powered by <a href="http://wordpress.org/">WordPress &middot; <a href="http://www.appcoda.com/privacy-policy">Privacy Policy</a> &middot; <a href="http://www.appcoda.com/terms-of-service/">Terms of Service</a></p>
    </div></div></div><!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
<script src="/prismjs/prism.js"></script>        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'appcoda';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
                    <!-- Version: 0.3.3 -->
            <script type="text/javascript">
                var EjSocialSlideoutJsApi_Settings =
                {
                    SliderImage: "<img width=\"150\" height=\"150\" src=\"http:\/\/www.appcoda.com\/wp-content\/uploads\/2015\/04\/appcoda-300-150x150.png\" class=\"attachment-thumbnail\" alt=\"appcoda-300\" \/>",
                    SocialProfiles: {"Facebook":{"Name":"Facebook","NetworkId":"Facebook","IsActive":true,"Id":"appcodamobile","Title":"Follow Us on Facebook","Description":"And get free tutorial updates"},"Twitter":{"Name":"Twitter","NetworkId":"Twitter","IsActive":true,"Id":"appcodamobile","Title":"Follow Us on Twitter","Description":"And get free tutorial updates"}},
                    Preview: false
                                    };

                if (typeof (EjSocialSlideoutJsApi) !== "undefined")
                    EjSocialSlideoutJsApi.SettingsLoaded(EjSocialSlideoutJsApi_Settings);
            </script>
            <div id='ej-ss-slideout-dom-templates' style='display:none'><div id='ej-ss-slideout-dom-template-facebook'><div class='fb-follow' data-href='https://www.facebook.com/appcodamobile' data-width='210' data-colorscheme='light' data-layout='standard' data-show-faces='true'></div></div><div id='ej-ss-slideout-dom-template-twitter'><a href='https://twitter.com/appcodamobile' class='twitter-follow-button' data-show-count='true' data-size='medium'>Follow @appcodamobile</a></div></div><div class="et_social_sidebar_networks et_social_visible_sidebar et_social_slideright et_social_animated et_social_rectangle et_social_sidebar_flip et_social_sidebar_withcounts et_social_withtotalcount et_social_mobile_off">
					<div class="et_social_totalcount et_social_dark">
							<span class="et_social_totalcount_count et_social_total_share" data-post_id="4198"></span>
							<span class="et_social_totalcount_label">Shares</span>
						</div>
					<ul class="et_social_icons_container"><li class="et_social_facebook">
									<a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;t=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget" class="et_social_share" rel="nofollow" data-social_name="facebook" data-post_id="4198" data-social_type="share">
										<i class="et_social_icon et_social_icon_facebook"></i>
										
										<div class="et_social_count"><span>54</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li><li class="et_social_twitter">
									<a href="http://twitter.com/share?text=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget&#038;url=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;via=appcodamobile" class="et_social_share" rel="nofollow" data-social_name="twitter" data-post_id="4198" data-social_type="share">
										<i class="et_social_icon et_social_icon_twitter"></i>
										
										<div class="et_social_count"><span>13</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li><li class="et_social_googleplus">
									<a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;t=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget" class="et_social_share" rel="nofollow" data-social_name="googleplus" data-post_id="4198" data-social_type="share">
										<i class="et_social_icon et_social_icon_googleplus"></i>
										
										<div class="et_social_count"><span>2</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li><li class="et_social_linkedin">
									<a href="http://www.linkedin.com/shareArticle?mini=true&#038;url=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;title=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget" class="et_social_share" rel="nofollow" data-social_name="linkedin" data-post_id="4198" data-social_type="share">
										<i class="et_social_icon et_social_icon_linkedin"></i>
										
										<div class="et_social_count"><span>9</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li></ul>
					<span class="et_social_hide_sidebar et_social_icon"></span>
				</div><div class="et_social_flyin et_social_resize et_social_flyin_bottom_right et_social_slideup et_social_trigger_bottom et_social_mobile_on">
					<a href="#" class="et_social_icon et_social_icon_cancel"></a>
					<div class="et_social_header">
						<h3>Share This</h3>
						<p>Share this post with your friends!</p>
					</div>
					<div class="et_social_networks et_social_2col et_social_slide et_social_rectangle et_social_left et_social_withnetworknames">
						
						<ul class="et_social_icons_container"><li class="et_social_facebook"><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;t=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget" class="et_social_share" rel="nofollow" data-social_name="facebook" data-post_id="4198" data-social_type="share"><i class="et_social_icon et_social_icon_facebook"></i><div class="et_social_network_label"><div class="et_social_networkname">Facebook</div></div><span class="et_social_overlay"></span></a></li><li class="et_social_twitter"><a href="http://twitter.com/share?text=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget&#038;url=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;via=appcodamobile" class="et_social_share" rel="nofollow" data-social_name="twitter" data-post_id="4198" data-social_type="share"><i class="et_social_icon et_social_icon_twitter"></i><div class="et_social_network_label"><div class="et_social_networkname">Twitter</div></div><span class="et_social_overlay"></span></a></li><li class="et_social_googleplus"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;t=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget" class="et_social_share" rel="nofollow" data-social_name="googleplus" data-post_id="4198" data-social_type="share"><i class="et_social_icon et_social_icon_googleplus"></i><div class="et_social_network_label"><div class="et_social_networkname">Google+</div></div><span class="et_social_overlay"></span></a></li><li class="et_social_linkedin"><a href="http://www.linkedin.com/shareArticle?mini=true&#038;url=http%3A%2F%2Fwww.appcoda.com%2Fapp-extension-programming-today%2F&#038;title=Introduction%20to%20iOS%208%20App%20Extension%3A%20Creating%20a%20Today%20Widget" class="et_social_share" rel="nofollow" data-social_name="linkedin" data-post_id="4198" data-social_type="share"><i class="et_social_icon et_social_icon_linkedin"></i><div class="et_social_network_label"><div class="et_social_networkname">LinkedIn</div></div><span class="et_social_overlay"></span></a></li></ul>
					</div>
				</div><span></span><style type="text/css" class="fluid-images">img{max-width:100%;height:auto;}</style><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/mediaelement/mediaelement-and-player.min.js?ver=2.16.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/mediaelement/wp-mediaelement.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.appcoda.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.1.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/monarch/js/idle-timer.min.js?ver=1.2.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var monarchSettings = {"ajaxurl":"http:\/\/www.appcoda.com\/wp-admin\/admin-ajax.php","pageurl":"http:\/\/www.appcoda.com\/app-extension-programming-today\/","stats_nonce":"3c279d6f27","share_counts":"41afbcf48b","follow_counts":"80583e3ade","total_counts":"861aff4fd8","media_single":"ed7cd3edd6","media_total":"e88d48f2ea","generate_all_window_nonce":"6da8221303","no_img_message":"No images available for sharing on this page"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/monarch/js/custom.js?ver=1.2.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/comment-reply.min.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/themes/genesis/lib/js/menu/superfish.min.js?ver=1.7.4'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/themes/genesis/lib/js/menu/superfish.args.min.js?ver=2.1.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/themes/genesis/lib/js/menu/superfish.compat.min.js?ver=2.1.2'></script>
<!-- This site converts visitors into subscribers and customers with the OptinMonster WordPress plugin v2.1.6.6 - http://optinmonster.com/ -->
<div id="om-d7egu9k5k9-lightbox" class="optin-monster-overlay" style="display:none;"><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script><style type="text/css" class="om-theme-case-study-styles">.optin-monster-success-message {font-size: 21px;font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;color: #282828;font-weight: 300;text-align: center;margin: 0 auto;}.optin-monster-success-overlay .om-success-close {font-size: 32px !important;font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif !important;color: #282828 !important;font-weight: 300 !important;position: absolute !important;top: 0px !important;right: 10px !important;background: none !important;text-decoration: none !important;width: auto !important;height: auto !important;display: block !important;line-height: 32px !important;padding: 0 !important;}.om-helper-field {display: none !important;visibility: hidden !important;opacity: 0 !important;height: 0 !important;line-height: 0 !important;}html div#om-d7egu9k5k9-lightbox * {box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;}html div#om-d7egu9k5k9-lightbox {background:none;border:0;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;float:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing: grayscale;height:auto;letter-spacing:normal;outline:none;position:static;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;width:auto;visibility:visible;overflow:visible;margin:0;padding:0;line-height:1;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none;-o-box-shadow:none;box-shadow:none;-webkit-appearance:none;}html div#om-d7egu9k5k9-lightbox {background: rgb(0, 0, 0);background: rgba(0, 0, 0, .7);font-family: helvetica,arial,sans-serif;-moz-osx-font-smoothing: grayscale;-webkit-font-smoothing: antialiased;line-height: 1;width: 100%;height: 100%;}html div#om-d7egu9k5k9-lightbox .om-clearfix {clear: both;}html div#om-d7egu9k5k9-lightbox .om-clearfix:after {clear: both;content: ".";display: block;height: 0;line-height: 0;overflow: auto;visibility: hidden;zoom: 1;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin {background: #fff;display: none;position: absolute;top: 50%;left: 50%;min-height: 175px;max-width: 700px;width: 100%;z-index: 734626274;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-wrap {position: relative;height: 100%;}html div#om-d7egu9k5k9-lightbox .om-close {position: absolute;top: -12px;right: -12px;text-decoration: none !important;display: block;width: 35px;height: 35px;background: url("http://www.appcoda.com/wp-content/plugins/optin-monster/assets/css/images/close.png") no-repeat scroll 0 0;z-index: 1500;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-bar {margin-bottom: 20px;clear: both;}html div#om-d7egu9k5k9-lightbox .om-bar {float: left;width: 25%;height: 11px;display: block;}html div#om-d7egu9k5k9-lightbox .om-red-bar {background-color: #ef3e36;}html div#om-d7egu9k5k9-lightbox .om-green-bar {background-color: #abb92e;}html div#om-d7egu9k5k9-lightbox .om-orange-bar {background-color: #f57826;}html div#om-d7egu9k5k9-lightbox .om-blue-bar {background-color: #17b4e9;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-header {min-height: 30px;padding: 15px;width: 100%;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-title {font-size: 24px;color: #484848;width: 100%;margin-bottom: 15px;text-shadow: 0 1px #fff;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-tagline {font-size: 16px;line-height: 1.25;color: #484848;width: 100%;margin-bottom: 30px;text-shadow: 0 1px #fff;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-content {padding: 15px;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-left {float: left;max-width: 280px;width: 100%;position: relative;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-image-container {position: relative;max-width: 280px;max-height: 245px;margin: 0 auto;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-image-container img {display: block;margin: 0 auto;text-align: center;height: auto;max-width: 100%;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-right {float: right;max-width: 370px;width: 100%;background-color: #dadada;margin-right: -15px;padding: 20px;position: relative;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-arrow {position: absolute;width: 49px;height: 56px;left: -40px;top: -40px;}html div#om-d7egu9k5k9-lightbox label {color: #333;}html div#om-d7egu9k5k9-lightbox input,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-name,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-email {background-color: #fff;width: 100%;border: 1px solid #ccc;font-size: 16px;line-height: 24px;padding: 10px 6px;overflow: hidden;outline: none;margin: 0 0 15px;vertical-align: middle;height: 46px;}html div#om-d7egu9k5k9-lightbox input[type=submit],html div#om-d7egu9k5k9-lightbox button,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-submit {background: #484848;border: 1px solid #484848;width: 100%;color: #fff;font-size: 20px;padding: 12px 6px;line-height: 28px;text-align: center;vertical-align: middle;cursor: pointer;margin: 0;height: 54px;}html div#om-d7egu9k5k9-lightbox input[type=checkbox],html div#om-d7egu9k5k9-lightbox input[type=radio] {-webkit-appearance: checkbox;width: auto;outline: invert none medium;padding: 0;margin: 0;}@media (max-width: 700px) {html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin[style] {width: 100%;position: relative;}html div#om-d7egu9k5k9-lightbox .om-close {right: 9px;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-left,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-right,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-name,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-email,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-submit,html div#om-d7egu9k5k9-lightbox .om-has-email #om-lightbox-case-study-optin-email {float: none;width: 100%;max-width: 100%;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-left,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-name,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-email {margin-bottom: 15px;}}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx) {html div#om-d7egu9k5k9-lightbox .om-close {background-image: url("http://www.appcoda.com/wp-content/plugins/optin-monster/assets/css/images/<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="5f3c33302c3a1f6d27712f3138">[email&#160;protected]</a><script cf-hash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]> */</script>");background-size: 35px 35px;}}</style><div id="om-lightbox-case-study-optin" class="om-lightbox-case-study om-clearfix om-theme-case-study om-custom-html-form"><div id="om-lightbox-case-study-optin-wrap" class="om-clearfix"><a href="#" class="om-close" title="Close"></a><div id="om-lightbox-case-study-optin-bar" class="om-clearfix"><span class="om-bar om-red-bar"></span><span class="om-bar om-green-bar"></span><span class="om-bar om-orange-bar"></span><span class="om-bar om-blue-bar"></span></div><div id="om-lightbox-case-study-header" class="om-clearfix"><div id="om-lightbox-case-study-optin-title" data-om-action="editable" data-om-field="title" style="color:#484848;font-family:Bree Serif;font-size:32px;text-align:center;"><span style="font-family:montserrat;">FREE Swift Programming Course</span></div><div id="om-lightbox-case-study-optin-tagline" data-om-action="editable" data-om-field="tagline" style="color:#484848;font-family:Open Sans;font-size:24px;text-align:center;"><span style="font-family:montserrat;">Sign up today and get a 7 day email course with free tips and ebook chapters for starting app development.</span></div></div><div id="om-lightbox-case-study-content" class="om-clearfix"><div id="om-lightbox-case-study-left"><div id="om-lightbox-case-study-optin-image-container" class="om-image-container om-clearfix"><img class="optin-monster-image optin-monster-image-lightbox-case-study" src="http://www.appcoda.com/wp-content/uploads/2015/01/swift-free-course-280x245.jpg" alt="" title="swift-free-course" /></div></div><div id="om-lightbox-case-study-right"><img id="om-lightbox-case-study-arrow" src="http://www.appcoda.com/wp-content/plugins/optin-monster/includes/themes/case-study/images/arrow.png" alt="Arrow" /><form action="http://sendy.appcoda.com/sendy/subscribe" method="POST" accept-charset="utf-8">
<input id="om-lightbox-case-study-optin-name" type="text" name="name" value="" data-om-action="selectable" data-om-target="#optin-monster-field-name_field" placeholder="Enter your name here..." style="color:#484848;font-family:Montserrat;">
<input id="om-lightbox-case-study-optin-email" type="email" name="email" value="" data-om-action="selectable" data-om-target="#optin-monster-field-email_field" placeholder="Enter your email address here..." style="color:#484848;font-family:Montserrat;">
<input id="om-lightbox-case-study-optin-submit" type="submit" data-om-action="selectable" data-om-target="#optin-monster-field-submit_field" value="Send me the course" style="color:#ffffff;background-color:#484848;border-color:#484848;font-family:Montserrat;">
<input type="hidden" name="list" value="neAW97jagVmb3C3O892VnnLA"/>
</form></div></div></div><input type="email" name="email" value="" class="om-helper-field" /><input type="text" name="website" value="" class="om-helper-field" /></div><script type="text/javascript">jQuery(document).ready(function($){WebFont.load({google: {families: ['Montserrat%7CBree+Serif%7COpen+Sans']}});});</script></div>
<script type="text/javascript">var d7egu9k5k9_lightbox, omo = {"id":4744,"optin":"d7egu9k5k9-lightbox","campaign":"Free Swift Programming Course","clones":[""],"hash":"d7egu9k5k9-lightbox","optin_js":"d7egu9k5k9_lightbox","type":"lightbox","theme":"case-study","cookie":30,"delay":5000,"second":0,"exit":1,"redirect":"","redirect_pass":false,"custom":true,"test":false,"global_cookie":23320,"preview":false,"ajax":"http:\/\/www.appcoda.com\/?optin-monster-ajax-route=1","mobile":false,"post_id":4198,"preloader":"http:\/\/www.appcoda.com\/wp-content\/plugins\/optin-monster\/assets\/css\/images\/preloader.gif","error":"There was an error with your submission. Please try again.","ajax_error":"There was an error with the AJAX request: ","name_error":"Please enter a valid name.","email_error":"Please enter a valid email address.","bot_error":"Honeypot fields have been activated. Your submission is being flagged as potential spam.","success":"Thanks for subscribing! Please check your email for further instructions.","exit_sensitivity":20}; d7egu9k5k9_lightbox = new OptinMonster(); d7egu9k5k9_lightbox.init(omo);</script>
<!--[if lte IE 9]><script type="text/javascript">var om_ie_browser = true;</script><![endif]--><!-- / OptinMonster WordPress plugin. -->
</body>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using disk: enhanced

 Served from: www.appcoda.com @ 2015-05-04 12:34:44 by W3 Total Cache -->