<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Working with Touch ID Using Local Authentication API in iOS 8</title><link href="/prismjs/prism.css" rel="stylesheet" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<!-- This site is optimized with the Yoast WordPress SEO plugin v2.1.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="iOS 8 SDK opens up the Touch ID API for developers. You can now integrate your app with fingerprint authentication. We&#039;ll show you how in this tutorial."/>
<link rel="canonical" href="http://www.appcoda.com/touch-id-api-ios8/" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="iOS 8 SDK opens up the Touch ID API for developers. You can now integrate your app with fingerprint authentication. We&#039;ll show you how in this tutorial."/>
<meta name="twitter:title" content="Working with Touch ID Using Local Authentication API in iOS 8"/>
<meta name="twitter:site" content="@appcodamobile"/>
<meta name="twitter:domain" content="AppCoda"/>
<meta name="twitter:image:src" content="http://www.appcoda.com/wp-content/uploads/2014/09/touch-id-api.jpg"/>
<meta name="twitter:creator" content="@appcodamobile"/>
<script type='application/ld+json'>{"@context":"http:\/\/schema.org","@type":"WebSite","url":"http:\/\/www.appcoda.com\/","name":"AppCoda"}</script>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="AppCoda &raquo; Feed" href="http://feeds.feedburner.com/appcoda" />
<link rel="alternate" type="application/rss+xml" title="AppCoda &raquo; Comments Feed" href="http://www.appcoda.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="AppCoda &raquo; Working with Touch ID API in iOS 8 SDK Comments Feed" href="http://www.appcoda.com/touch-id-api-ios8/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.appcoda.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.1"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f;c.supports={simple:d("simple"),flag:d("flag")},c.supports.simple&&c.supports.flag||(f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='mediaelement-css'  href='http://www.appcoda.com/wp-includes/js/mediaelement/mediaelementplayer.min.css?ver=2.16.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css'  href='http://www.appcoda.com/wp-includes/js/mediaelement/wp-mediaelement.css?ver=4.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='eleven40-theme-css'  href='http://www.appcoda.com/wp-content/themes/eleven40/style.css?ver=2.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='contact-form-7-css'  href='http://www.appcoda.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.1.2' type='text/css' media='all' />
<link rel='stylesheet' id='ej-socialslideout-content-style-css'  href='http://www.appcoda.com/wp-content/plugins/ej-socialslider/static/slideout.css?ver=4.2.1' type='text/css' media='all' />
<link rel='stylesheet' id='et_monarch-open-sans-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' type='text/css' media='all' />
<link rel='stylesheet' id='et_monarch-css-css'  href='http://www.appcoda.com/wp-content/plugins/monarch/css/style.css?ver=1.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='codecolorer-css'  href='http://www.appcoda.com/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.9' type='text/css' media='screen' />
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/jquery/jquery.js?ver=1.11.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/wp-fluid-images//lib/fluidimage.js?ver=1.0'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/ej-socialslider/static/slideout.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/optin-monster/assets/js/api.js?ver=2.1.6.6'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/qards//js/iframeResizer.min.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/qards//js/iframeResizer.contentWindow.min.js?ver=4.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.appcoda.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.appcoda.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.2.1" />
<link rel='shortlink' href='http://www.appcoda.com/?p=4046' />
<style type="text/css" id="et-social-custom-css">
				 
			</style><link rel="Shortcut Icon" href="http://www.appcoda.com/wp-content/themes/eleven40/images/favicon.ico" type="image/x-icon" />
<link rel="pingback" href="http://www.appcoda.com/xmlrpc.php" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-223304-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head>
<body class="single single-post postid-4046 single-format-standard et_monarch header-image content-sidebar"><div id="wrap"><div id="header"><div class="wrap"><div id="title-area"><p id="title"><a href="http://www.appcoda.com/">AppCoda</a></p><p id="description">Your iOS Programming Community</p></div><div class="widget-area header-widget-area"><div id="nav_menu-2" class="widget widget_nav_menu"><div class="widget-wrap"><div class="menu-default-container"><ul id="menu-default" class="menu genesis-nav-menu js-superfish"><li id="menu-item-26" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="http://www.appcoda.com/about/">About</a></li>
<li id="menu-item-28" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-28"><a href="http://www.appcoda.com/tutorials/">Tutorials</a></li>
<li id="menu-item-530" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-530"><a href="http://www.appcoda.com/ios-programming-course/">Course</a></li>
<li id="menu-item-3045" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3045"><a title="Swift Programming Book for iOS 8" href="http://www.appcoda.com/swift">Book</a></li>
<li id="menu-item-2140" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2140"><a href="http://www.appcoda.com/ios-app-kit/ios-game-kit.html">Game Kit</a></li>
<li id="menu-item-710" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-710"><a href="http://www.appcoda.com/marketplace/">Marketplace</a></li>
<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="http://www.appcoda.com/contact/">Contact</a></li>
</ul></div></div></div>
</div></div></div><div id="inner"><div class="wrap"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Leaderboard Responsive Ad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8501671653071605"
     data-ad-slot="1756840139"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div id="content-sidebar-wrap"><div id="content" class="hfeed"><div class="post-4046 post type-post status-publish format-standard hentry category-course category-intermediate category-swift-2 category-tutorials tag-apple-pay tag-ios-8 tag-ios-programming tag-local-authentication tag-swift tag-touchid entry"><h1 class="entry-title">Working with Touch ID API in iOS 8 SDK</h1> 
<div class="post-info"><span class="date published time" title="2014-09-12T23:18:21+00:00">September 12, 2014</span>  by <span class="author vcard"><span class="fn"><a href="http://www.appcoda.com/author/gabrielth/" rel="author">Gabriel Theodoropoulos</a></span></span> <span class="post-comments"><a href="http://www.appcoda.com/touch-id-api-ios8/#comments"><span class="dsq-postid" data-dsqidentifier="4046 http://www.appcoda.com/?p=4046">23 Comments</span></a></span> </div><div class="entry-content">
<!-- Quick Adsense WordPress Plugin: http://quicksense.net/ -->
<div style="float:right;margin:10px 0 10px 10px;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8501671653071605";
/* Appcoda_300x250_iPhone_Development */
google_ad_slot = "8132041053";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<p>With every major version release of iOS, Apple ships along a great number of new technologies and frameworks. iOS 8 is going to be released officially pretty soon, and new great stuff awaits both users and developers. This version of iOS brings quite exciting new things, and among them, don&#8217;t forget the new programming language named Swift, that Apple presented at the WWDC this summer. So, with this tutorial I would like to welcome you to a series of new posts, in which we are going to work with frameworks introduced in iOS 8, and with improvements made to the existing SDK.</p>
<p>Starting from this tutorial, we are going to develop all the sample applications for the next ones in Swift. Not because it&#8217;s a brand new language and it would be cool to get to know it, but mostly because it&#8217;s quite possible to become the official language of iOS (and Mac OS) after a while. We have been working with Objective-C for some time, some of us for years, and of course, we don&#8217;t mean to forget it. However, as technology evolves, it&#8217;s our duty to learn this new language.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/touch-id-api.jpg" alt="touch-id-api" class="aligncenter size-full wp-image-4085" /></div>
<p>Before I start talking about the topic of this tutorial, I would like to make a few observations regarding Swift, since this is the first time I write about it. I am pretty sure that all of you that you are now reading these lines, you have seen the related <a href="https://developer.apple.com/videos/wwdc/2014/">WWDC session videos</a>, you have <a href="https://itunes.apple.com/us/book/swift-programming-language/id881256329?mt=11">downloaded the e-book</a>, and you&#8217;ve <a href="http://www.appcoda.com/swift-programming-language-intro/">read a few (or more) things about Swift</a>. Compared to Objective-C, Swift is much simpler from the point of syntax, the code is much clearer and of course, thanks to the nature of Swift, safer. Furthermore, one could say that reminds a combination of other languages. Even though it&#8217;s necessary to get used to a new way of writing code and to forget old habits (such as adding the semicolon ; at the end of each command), there are only a few new things you have to learn in Swift (such as optionals, tuples, new way to handle structures, etc.). If it has been easy for you to develop applications in Objective-C, then it&#8217;s really easy to write code in Swift too, and you will find this out through this tutorial. Closing this short talk about Swift, I must say that since this language is new, I recommend you to keep the e-book always open for study, and of course&#8230; to <a href="http://www.appcoda.com/ios-programming-course/">read the tutorials</a> at Appcoda!<br />
<span id="more-4046"></span></p>
<p>Now, let&#8217;s talk about the topic of this tutorial. As you see from the title, we are going to deal with the <em>TouchID</em>, the biometric authentication technology that Apple introduced in iOS 7 and used in iPhone 5s to allow users to unlock their devices and make purchases in the App Store. TouchID, even though a great new technology, had not been given to developers from the beginning. In iOS 8 though things change and developers can add TouchID as an authentication mechanism to their applications, and as you will see in a while, in a very fast and easy manner.</p>
<p>The usage of the TouchID is based on a new framework, named <strong>Local Authentication</strong>. I am not going to talk extensively about it, as you can find much more information to the respective WWDC session video and in the Apple documentation, and besides that, my target is to show how things work in practice. However, it&#8217;s necessary to say that this framework handles almost everything when the TouchID is about to be used to an application. It provides a default view that prompts the user to place a finger to the iPhone&#8217;s button for scanning. If that fails or users don&#8217;t want to use it, the framework allows developers to provide their own, custom made view so users can enter credentials, and provide that way an alternative for accessing the application. The framework also allows developers to set a custom string literal describing the reason of asking authentication. Besides that, it supports a variety of error types, where each one represents a fail reason and gives the option to developers to take the proper action in each case. The error types are implemented as an <em>enum</em>:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap"><span style="color: #a61390;">enum</span> LAError <span style="color: #002200;">:</span> Int <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> AuthenticationFailed<br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> UserCancel<br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> UserFallback<br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> SystemCancel<br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> PasscodeNotSet<br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> TouchIDNotAvailable<br />
&nbsp; &nbsp; <span style="color: #a61390;">case</span> TouchIDNotEnrolled<br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<ul>
<li><em>AuthenticationFailed</em>: This error type is returned when the user doesn&#8217;t provide the correct credentials, for example when using a wrong finger.</li>
<li><em>UserCancel</em>: This one is returned when the user deliberately cancels the authentication process.</li>
<li><em>UserFallback</em>: It&#8217;s returned in case the user intentionally doesn&#8217;t use the TouchID authentication and falls back to the custom way of entering credentials.</li>
<li><em>SystemCancel</em>: In this case, the system stops the authentication process because another application became active.</li>
<li><em>PasscodeNotSet</em>: When no passcode has been set by the user in the device&#8217;s Settings.</li>
<li><em>TouchIDNotAvailable</em>: This one regards the lack of TouchID because it&#8217;s not supported by the device.</li>
<li><em>TouchIDNotEnrolled</em>: It&#8217;s returned when the TouchID is supported, but there are no enrolled fingers.</li>
</ul>
<p>As you understand, each one of the above error types has its own significance, and it&#8217;s obvious that we must handle every case. Anyway, we are going to see more about them in detail later, so there&#8217;s no need to continue here.</p>
<p>Besides the demonstration of the TouchID and the <em>Local Authentication</em> framework, my goal is to also show you how usual tasks are implemented using Swift. For example, I&#8217;m going to show you how to use a table view, the delegation pattern, how to access the documents directory and many more. Swift has many nice features and we will use them in combination with the Cocoa Touch framework. Beyond any doubt, I believe it&#8217;s extremely beneficial and educational to see as many aspects of it as we can.</p>
<p>Before we dive in, I strongly encourage you to take a taste of the Swift before you start reading here in case you haven&#8217;t done so yet. It will much easier for you to understand all those that we&#8217;ll discuss next. Without any more delay, let&#8217;s get started with our first topic in OS 8!</p>
<h2>Demo App Overview</h2>
<p>In order to test the TouchID and the <em>Local Authentication</em> framework, we are going to create a <em>personal note editing</em> application. It will be a simple example, but good enough to get us into the point of the framework and the Swift language. It&#8217;s going to be a <em>navigation based</em> application, and it will be parted by two view controllers:</p>
<ul>
<li>In the first view controller, there will be a table view, where the titles of all the created notes will be listed. From this view controller, we&#8217;ll be able to write a new note, and to edit and delete existing notes.</li>
<li>In the second view controller, there will be a textfield and a textview. The textfield will be used to set a title for the note, while the textview will be used to compose the body of the note. This view controller will also contain a <em>Save</em> button, which obviously will save a new or an edited note to the disk.</li>
</ul>
<p>As I just said, the notes are going to be stored permanently to the disk, in the documents directory of the app. Actually, an array (Objective-C array, <em>NSMutableArray</em>) will be used for containing, saving and loading all notes. Each object of such an array will represent a note, and it will be a simple dictionary (Swift dictionary) containing the title and the body of the note.</p>
<p>When the app will be launched, the default dialog of the <em>Local Authentication</em> framework will be presented to the user in order to be authenticated and access the notes. In addition to that authentication method, we will provide an alternative way of entering credentials: We will display an alert view with a secure textfield for typing a password. We could create an extra view controller to do that, but let&#8217;s keep things simple. Of course, I discourage you to use an alert view as an alternative for allowing users to enter password in a real application.</p>
<p>Finally, keep in mind that the sample app that will develop here can be tested only on a real device, an iPhone 5s. As you understand, it&#8217;s not possible to test the TouchID in the Simulator, and by using any other device you&#8217;ll be able to enter only the password. Remember that you should have the TouchID enabled in the Settings of your device, and of course you must have enrolled one finger at least.</p>
<ul>
<li>Important Notice: If you haven&#8217;t updated your device yet to iOS 8 (GM) and you are about to do it, then first backup your device and then perform the update. It&#8217;s possible to lose your data, so you must be able to restore it after the update has finished.*</li>
</ul>
<p>The next screenshot can give you a first taste of what we are about to implement:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/touch_id_sample.png" alt="touch_id_sample" class="aligncenter size-full wp-image-4088" /></div>
<h2>App Creation</h2>
<p>Let&#8217;s get started by launching <a href="https://developer.apple.com/swift/resources/">Xcode 6 (GM)</a>. Select to create a new project, and in the first step of the guide select the <strong>Single View Application</strong> in the Application category of the iOS section. Next, set the <strong>TouchIDDemo</strong> as the name of our project. You must be also sure that in the Language drop down menu the <strong>Swift</strong> value is selected, and that the <strong>iPhone</strong> is the selected device:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_3_new_project21.png" alt="t20_3_new_project2" class="aligncenter size-full wp-image-4268" /></div>
<p>Finally, find a location on your computer to store the new project, and create it. If you haven&#8217;t done so before, then congratulations as this is your first project in Swift!</p>
<h2>Interface Setup</h2>
<p>Previously, while I was describing the sample app of this tutorial, I mentioned that this application is going to be a navigation based one, but we just created a single view app instead. So, let&#8217;s begin the setup of our interface by adding an <em>navigation controller</em>.</p>
<p>At first, click on the <em>Main.storyboard</em> file in the Project Navigator, so the Interface Builder appears. Next, select the view controller scene that already exists there, and go to the menu <strong>Editor > Embed In > Navigation Controller</strong>.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_4_embed_navcontroller.png" alt="Embed Navigation Controller" class="aligncenter size-full wp-image-4054" /></div>
<p>Once you do so, you&#8217;ll see a navigation controller to be added to the Interface Builder, at the left side of the view controller scene.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_5_nav_controller1.png" alt="Touch ID - Navigation Controller" class="aligncenter size-full wp-image-4269" /></div>
<p>As you notice, the default scene existing on the canvas is quite big, and its size doesn&#8217;t remind at all an iPhone screen size. Starting from Xcode 6 and iOS 8, we all must get used to the idea of <em>adaptivity</em> and <em>adaptive interfaces</em>, where we won&#8217;t talk any more about screen size, but for <em>size classes</em>. I strongly recommend you (and you should really do it) to watch the #215 WWDC 2014 session video named <em>Building adaptive apps with UIKit</em>, so you get the idea of this new concept and a lot more other and important things. In short, there is the <em>compact</em> size class that refers on a compact layout, and the <em>regular</em> size class that refers to a regular layout. These two size classes exist for both the <em>horizontal</em> and the <em>vertical</em> axis, and all together they give four possible options for the layout of the interface. For example, for an iPhone interface layout, the horizontal size class is compact, and the vertical is regular for portrait orientation, while for an iPad interface layout, the size classes are both regular in both the horizontal and vertical axis. Again, if you don&#8217;t understand what I&#8217;m talking about, then please watch the video I mentioned before.</p>
<p>So, our next move is to specify the correct size classes for the iPhone in portrait orientation. At the bottom side of the Interface Builder, there is a new button that says <strong>wAny yAny</strong>. By clicking on it, a small grid appears, where simply by dragging the mouse in it we can specify the size class for each axis, and to setup the proper interface. In our case, we want to have a compact width and a regular height, just as it&#8217;s shown to the next image:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_6_size_classes1.png" alt="Touch ID - Size Classes" class="aligncenter size-full wp-image-4270" /></div>
<p>By selecting these size classes, the view controller scene instantly changes its shape to an iPhone&#8217;s one. If you are curious about it, play around a bit with all that but at the end make sure to set again the proper size classes.</p>
<p>Now, double click on the middle of the navigation bar, and set the <strong>My Notes</strong> text as its title.</p>
<p>Next, we must add a new view controller to the canvas, the one that we&#8217;ll use to edit a note. From the Object Library drag and drop one, and place it next to the existing view controller.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_7_new_viewcontroller.png" alt="Touch ID - New View Controller" class="aligncenter size-full wp-image-4057" /></div>
<p>Before we add any subviews at all, we must create a new class and set it to this new view controller. So, go to the <strong>File > New > File&#8230;</strong> menu, and select to add a <strong>Cocoa Touch Class</strong>.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_8_add_class11.png" alt="Touch ID - Add Class" class="aligncenter size-full wp-image-4271" /></div>
<p>Proceed and make sure that in the <strong>Subclass of</strong> field the <strong>UIViewController</strong> value is set. Then, name the class <strong>EditNoteViewController</strong>, and also make sure that the <strong>Swift</strong> is the selected language.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_9_add_class21.png" alt="Touch ID - Add Class" class="aligncenter size-full wp-image-4272" /></div>
<p>Get finished with the guide, and let Xcode to create the new class. Here&#8217;s how your Project Navigator should look like now:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_10_project_navigator.png" alt="Project navigator" class="aligncenter size-full wp-image-4060" /></div>
<p>Notice that when working with Swift, there are no more two files (.h and .m) per class, just one.</p>
<p>Back to the Interface Builder now, select the new view controller scene we previously added to the canvas. Next, show the Utilities and the Identity Inspector. In the <strong>Custom Class</strong> section and in the <strong>Class</strong> field specifically, set the name of the new class we just created (<em>EditNoteViewController</em>).</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_11_custom_class1.png" alt="Touch ID - Add Class" class="aligncenter size-full wp-image-4273" /></div>
<p>Finally, we are ready to start adding subviews to the view controllers. Let&#8217;s start from the view controller scene (the first one that already existed). Add the next subviews and set their attributes, as it&#8217;s shown right next:</p>
<h3>Bar Button Item</h3>
<ul>
<li>Place it at the right side of the navigation bar.</li>
<li><strong>Identifier</strong>: Add</li>
</ul>
<h3>UITableView</h3>
<ul>
<li><strong>Frame</strong>: (0, 0, 400, 800)</li>
</ul>
<h3>UITableViewCell</h3>
<ul>
<li><strong>Style</strong>: Basic</li>
<li><strong>Accessory</strong>: Disclosure Indicator</li>
<li><strong>Identifier</strong>: idCell</li>
<li><strong>Row Height</strong>: 60</li>
</ul>
<p>Let&#8217;s connect the two view controllers now. Ctrl &#8211; Click on the Add bar button item you added earlier to the navigation bar, and drag towards the second view controller scene. In the black popup window that appears, select the first option named <strong>Show</strong>.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_12_show_viewcontroller1.png" alt="Touch ID - Show View Controller" class="aligncenter size-full wp-image-4274" /></div>
<p>Note that the old-fashion push segue is now deprecated. Next, select the new segue (the line that connects the two view controllers), and open the Utilities, Attributes Inspector. In the <strong>Identifier</strong> field, set the <strong>idSegueEditNote</strong> value. After having done this, double click in the middle of the navigation bar in the <em>Edit Note View Controller</em> scene and set the <strong>Edit Note</strong> title.</p>
<p>Let&#8217;s add the subviews to the <em>Edit Note View Controller</em> scene now. Just like we did before, add the following subviews and configure the given attributes:</p>
<h3>Bar Button Item</h3>
<ul>
<li>Add it at the right side of the navigation bar</li>
<li><strong>Identifier</strong>: Save</li>
</ul>
<h3>UITextField</h3>
<ul>
<li><strong>Frame</strong>: (16, 72, 368, 30)</li>
<li><strong>Placeholder</strong>: Note title&#8230;</li>
</ul>
<h3>UITextView</h3>
<ul>
<li><strong>Frame</strong>: (0, 120, 400, 195)</li>
<li><strong>Text</strong>: None (remove the existing content)</li>
<li><strong>Background Color</strong>: Group Table View Background Color (from the predefined colors in the list)</li>
</ul>
<p>These are the subviews we need to the second view controller. Now, there are two more things we should do: The first one is to set some constraints so as all the subviews to properly appear to iPhone. The other is to declare and connect a few IBOutlet properties.</p>
<p>We will begin by setting the constraints. Select the <em>View Controller</em> scene, and then the tableview. Next, click the Pin button at the bottom-right side of the Interface Builder.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_13_pin_tableview1.png" alt="Touch ID - Pin TableView" class="aligncenter size-full wp-image-4275" /></div>
<p>In the popover window, click at the left and right margin constraints at the top of it, as shown to the above image. Next, click on the <strong>Add 2 Constraints</strong> button. Xcode will add these two constraints, but it will show a red border around the tableview, meaning that some constraints are still missing. To fix this, open the Document Outliner, and click on the small red arrow at the top-right side.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_14_red_arrow_constraints.png" alt="red arrow constraints - auto layout" class="aligncenter size-full wp-image-4064" /></div>
<p>Then, click on the red image and in the popup window click the <strong>Add Missing Constraints</strong> button.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_15_add_missing_constraints.png" alt="add missing constraints" class="aligncenter size-full wp-image-4065" /></div>
<p>Let&#8217;s add some constraints to the <em>Edit Note View Controller</em> scene now. Select the textfield, and once again click on the Pin button of the Interface Builder and set the left and right margin constraints as you did before.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_16_add_constraints_textfield1.png" alt="Touch ID - Add Constraints" class="aligncenter size-full wp-image-4276" /></div>
<p>Click the <strong>Add 2 Constraints</strong> button and let them to be added to the textfield. Xcode will indicate that there are still missing constraints, therefore act as before and add the missing constraints by clicking on the red arrow in the Document Outliner pane.</p>
<p>Xcode will issue new errors and warnings regarding the constraints. Before you fix everything by clicking on the red images, select the textview and by using the Pin button set the left and right margin constraints. Also, check the <strong>Height</strong> checkbox and then add the 3 new constraints. Once you add them, any existing issues will be fixed.</p>
<p>Lastly, let&#8217;s declare some IBOutlet properties. We are going to need one such property for the tableview, one for the textfield and one for the textview. Click on the <em>ViewController.swift</em> file, and at the top of the class add the next line:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">class ViewController<span style="color: #002200;">:</span> UIViewController <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; @IBOutlet weak var tblNotes<span style="color: #002200;">:</span> UITableView<span style="color: #002200;">!</span><br />
<br />
&nbsp; &nbsp; ...<br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>The above line is the exact way that Xcode declares IBOutlet properties as well. Notice that the <em>tblNotes</em> tableview property is declared as an optional. Now, let&#8217;s connect it to our tableview. Go to the <em>Main.storyboard</em> again, and select the <em>View Controller</em> scene. Open the Connections Inspector in the Utilities pane, and in the Outlets section drag and drop from the circle at the right side of the <em>tblNotes</em> property right on to the tableview.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_17_connect_iboutlet1.png" alt="Touch ID - Connect Outlet" class="aligncenter size-full wp-image-4277" /></div>
<p>Let&#8217;s declare the IBOutlet properties for the <em>Edit Note View Controller</em> scene now. Open the <em>EditNoteViewController.swift</em> file, and add the next two:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">class EditNoteViewController<span style="color: #002200;">:</span> UIViewController <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; @IBOutlet weak var txtNoteTitle<span style="color: #002200;">:</span> UITextField<span style="color: #002200;">!</span><br />
<br />
&nbsp; &nbsp; @IBOutlet weak var tvNoteBody<span style="color: #002200;">:</span> UITextView<span style="color: #002200;">!</span><br />
<br />
&nbsp; &nbsp; ...<br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Lastly, using the previous steps connect these properties to the textfield and the textview respectively.</p>
<p>The interface is ready, so we can now continue by writing some code!</p>
<h2>Implementing the TouchID Authentication</h2>
<p>The very first thing that we will work with after having our project and the interface set up is the integration of the TouchID authentication mechanism to our application. As I said to the introduction of the tutorial, the use of TouchID is based on the <em>Local Authentication</em> framework, but for the time being this framework doesn&#8217;t exist to our project. So, as you guess, we must add it first, and then we&#8217;ll be able to implement the TouchID features.</p>
<p>In the Project Navigator, click on the Project row and then click on the Build Phases tab at the right. In there you will find some collapsed options. The one we need is the <strong>Link Binary With Libraries (0 items)</strong>. Click on the disclosure icon to expand it, and then click on the small plus icon.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_18_link_binary1.png" alt="Link Binary" class="aligncenter size-full wp-image-4278" /></div>
<p>In the modal window that appears, type the phrase <strong>Local Authentication</strong> (or at least start typing it), and Xcode will bring it right in front of you.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_19_local_authentication1.png" alt="Local Authentication" class="aligncenter size-full wp-image-4279" /></div>
<p>Next, select it and click on the Add button, and the framework will be added to the project. Now we are ready to write code. Go back to the <em>ViewController.swift</em> file, and at the top of it import the new framework:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">import LocalAuthentication</div></td></tr></tbody></table></div>
<p>Next, create a new function named <em>authenticateUser()</em>:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
<br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>In here we will write the needed code for integrating the TouchID authentication. As you see, I set no return type to the method, as it&#8217;s a void one. Also, it doesn&#8217;t accept any parameters at all.</p>
<p>The first step that is always required when using the TouchID and the <em>Local Authentication</em> framework, is to get the authentication <em>context</em> from the framework, exactly as shown below:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Get the local authentication context.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; let context <span style="color: #002200;">:</span> LAContext <span style="color: #002200;">=</span> LAContext<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Note that the above command could be written like this as well:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">let context <span style="color: #002200;">=</span> LAContext<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span></div></td></tr></tbody></table></div>
<p>The type of the context constant is inferred and we can omit it, however I personally like the first way more in this case, it makes things more clear. Anyway, besides that, we must declare two more variables: One of <em>NSError</em> type, and one of <em>String</em> type in order to specify the reason we present the TouchID dialog. Let&#8217;s add these two lines:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Get the local authentication context.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; let context <span style="color: #002200;">=</span> LAContext<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Declare a NSError variable.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var error<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSError_Class/"><span style="color: #400080;">NSError</span></a>?<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Set the reason string that will appear on the authentication alert.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var reasonString <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;Authentication is needed to access your notes.&quot;</span><br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Notice that the <em>error</em> variable is declared as an optional, because if there&#8217;s no error it will be nil. Let me remind you that the nil in Swift is different from the nil in Objective-C, and it means that there&#8217;s no value at all. Also, for the <em>reasonString</em> variable I omitted its type, as the compiler will infer it from the assigned value. The <em>reasonString</em> can be customised, so feel free to set any message you like to it.</p>
<p>The next step is to ask the framework if the TouchID authentication can be applied to the specific device, by calling a special function named <em>canEvaluatePolicy</em>. It accepts two parameters, the policy we want to evaluate and an error object. Here&#8217;s how it&#8217;s used:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ...<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Check if the device can evaluate the policy.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> context.canEvaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, error<span style="color: #002200;">:</span> <span style="color: #002200;">&amp;</span>error<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>The <em>DeviceOwnerAuthenticationWithBiometrics</em> is a property of the <em>LAPolicy</em> class. Note that the error variable is passed by reference. If this condition is true, then the device supports the TouchID authentication, the TouchID mechanism has been enabled in the device&#8217;s Settings, a passcode has been also set, and of course, one finger at least has been enrolled. That means that the specific authentication policy can be applied, and the TouchID authentication dialog to appear:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ...<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Check if the device can evaluate the policy.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> context.canEvaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, error<span style="color: #002200;">:</span> <span style="color: #002200;">&amp;</span>error<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#91;</span>context .evaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, localizedReason<span style="color: #002200;">:</span> reasonString, reply<span style="color: #002200;">:</span> <span style="color: #002200;">&#123;</span> <span style="color: #002200;">&#40;</span>success<span style="color: #002200;">:</span> Bool, evalPolicyError<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSError_Class/"><span style="color: #400080;">NSError</span></a>?<span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Void <span style="color: #a61390;">in</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>The <em>evaluatePolicy</em> accepts three arguments, where the third one is a completion handler block. In case of a successful authentication, we will load the notes from the disk (we&#8217;ll do it later). If any error occurs though, it must be handled. Actually, this is just a tutorial and not a real application, therefore we are only going to display some error messages. Note that among the possible errors there is the user&#8217;s choice to fallback to the custom authentication and avoid the fingerprint scanning, so, when it&#8217;s appropriate, we will call another method that we&#8217;ll implement later for showing a custom alert view to allow users to enter their password.</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;height:300px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ...<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Check if the device can evaluate the policy.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> context.canEvaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, error<span style="color: #002200;">:</span> <span style="color: #002200;">&amp;</span>error<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#91;</span>context .evaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, localizedReason<span style="color: #002200;">:</span> reasonString, reply<span style="color: #002200;">:</span> <span style="color: #002200;">&#123;</span> <span style="color: #002200;">&#40;</span>success<span style="color: #002200;">:</span> Bool, evalPolicyError<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSError_Class/"><span style="color: #400080;">NSError</span></a>?<span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Void <span style="color: #a61390;">in</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> success <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// If authentication failed then show a message to the console with a short description.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// In case that the error is a user fallback, then show the password alert view.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span>evalPolicyError?.localizedDescription<span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">switch</span> evalPolicyError<span style="color: #002200;">!</span>.code <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.SystemCancel.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Authentication was cancelled by the system&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.UserCancel.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Authentication was cancelled by the user&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.UserFallback.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;User selected to enter custom password&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSOperationQueue_Class/"><span style="color: #400080;">NSOperationQueue</span></a>.mainQueue<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.addOperationWithBlock<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#123;</span> <span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Void <span style="color: #a61390;">in</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">default</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Authentication failed&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSOperationQueue_Class/"><span style="color: #400080;">NSOperationQueue</span></a>.mainQueue<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.addOperationWithBlock<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#123;</span> <span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Void <span style="color: #a61390;">in</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>If the <em>success</em> parameter of the completion handler is true, then we&#8217;ll load the notes data. However, if there&#8217;s an error, then we do two things: At first, we display a description of that error to the console. The <em>evalPolicyError</em> parameter value is an optional, therefore the question mark (?) symbol is necessary to be used so as the error value to be unwrapped. Then in a <em>switch</em> statement we examine all the possible error cases (you can use an <em>if</em> statement if you want as well). It&#8217;s necessary to mention here two facts: The first one is that not all error types exist here, as some of them can happen when asking the <em>Local Authentication</em> framework if the TouchID authentication can be applied using the <em>canEvaluatePolicy</em> method, and we are about to face them right next. The second is that we use the <em>toRaw()</em> method along with every error type, because we want each error type to be converted from an enum value to a raw integer value. If we wouldn&#8217;t use it, the compiler would issue an error (feel free to try it).</p>
<p>Besides all the above, you see that there is a call to the <em>showPasswordAlert</em> method. This one doesn&#8217;t exist yet and we&#8217;ll implement it in a while. As you assume, when it&#8217;s called, the custom alert for typing a password is appeared. Notice that we call it in two cases: When the user decides to fallback to the custom password entry, and when the authentication fails because the TouchID mechanism cannot recognise the user&#8217;s fingerprint. The important here is that we execute this method on the main thread, because the appearance of the alert view is meaning a visual change on the app and this can&#8217;t be done to a secondary thread, in which the completion handler is executed. Anyway, in the other two cases we just display messages to the console.</p>
<p>The above implementation is more or less what you need in order to integrate the TouchID authentication system to your application. However, we are not over yet, because we haven&#8217;t dealt with the case where the TouchID dialog cannot be shown up. This can happen for specific reasons:</p>
<ul>
<li>The TouchID is not enabled.</li>
<li>A passcode has not been set to the device&#8217;s Settings.</li>
<li>No finger has been enrolled with the TouchID.</li>
<li>The TouchID is not supported by the device.</li>
</ul>
<p>To encounter all the above, we&#8217;ll add an <em>else</em> case to the initial <em>if</em> statement. If you look at the first code snippet, initially we had declared a variable named <em>error</em>, but we haven&#8217;t done anything with it yet. For the sake of the tutorial, we&#8217;ll just determine the reason of the error and we&#8217;ll just display a message (just like we did before). Of course, here we&#8217;ll call the <em>showPasswordAlert</em> method no matter what the error is, as it&#8217;s mandatory to display the password alert view if the TouchID cannot appear. Here&#8217;s the method once again, with the <em>else</em> case added:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;height:300px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br />33<br />34<br />35<br />36<br />37<br />38<br />39<br />40<br />41<br />42<br />43<br />44<br />45<br />46<br />47<br />48<br />49<br />50<br />51<br />52<br />53<br />54<br />55<br />56<br />57<br />58<br />59<br />60<br />61<br />62<br />63<br />64<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Get the local authentication context.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; let context <span style="color: #002200;">=</span> LAContext<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Declare a NSError variable.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var error<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSError_Class/"><span style="color: #400080;">NSError</span></a>?<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Set the reason string that will appear on the authentication alert.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var reasonString <span style="color: #002200;">=</span> <span style="color: #bf1d1a;">&quot;Authentication is needed to access your notes.&quot;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Check if the device can evaluate the policy.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> context.canEvaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, error<span style="color: #002200;">:</span> <span style="color: #002200;">&amp;</span>error<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#91;</span>context .evaluatePolicy<span style="color: #002200;">&#40;</span>LAPolicy.DeviceOwnerAuthenticationWithBiometrics, localizedReason<span style="color: #002200;">:</span> reasonString, reply<span style="color: #002200;">:</span> <span style="color: #002200;">&#123;</span> <span style="color: #002200;">&#40;</span>success<span style="color: #002200;">:</span> Bool, evalPolicyError<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSError_Class/"><span style="color: #400080;">NSError</span></a>?<span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Void <span style="color: #a61390;">in</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> success <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// If authentication failed then show a message to the console with a short description.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// In case that the error is a user fallback, then show the password alert view.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span>evalPolicyError?.localizedDescription<span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">switch</span> evalPolicyError<span style="color: #002200;">!</span>.code <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.SystemCancel.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Authentication was cancelled by the system&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.UserCancel.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Authentication was cancelled by the user&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.UserFallback.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;User selected to enter custom password&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">default</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;Authentication failed&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// If the security policy cannot be evaluated then show a short message depending on the error.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">switch</span> error<span style="color: #002200;">!</span>.code<span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.TouchIDNotEnrolled.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;TouchID is not enrolled&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">case</span> LAError.PasscodeNotSet.toRaw<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;A passcode has not been set&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">default</span><span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// The LAError.TouchIDNotAvailable case.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;TouchID not available&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Optionally the error description can be displayed on the console.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span>error?.localizedDescription<span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Show the custom alert view to allow users to enter the password.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>I believe there&#8217;s nothing particularly difficult that needs to be discussed. As I said, no matter what the error is, we call the <em>showPasswordAlert</em> method to allow users to enter their password.</p>
<p>Well, this is how the TouchID authentication mechanism is integrated into an application using Swift. What you just have to do, is to take the proper actions in each error case, and you&#8217;re all set. Before we move on, don&#8217;t forget that we must call this function, therefore go to the <em>viewDidLoad</em> method and do it:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">override func viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; super.viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Do any additional setup after loading the view, typically from a nib.</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; authenticateUser<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Note that in Swift the <em>self</em> keyword can be omitted when you perform method calls. However, inside blocks this cannot happen, and that&#8217;s why in the completion handler block of our method we used the <em>self</em>.</p>
<p>Now that we have the authentication mechanism ready, we can implement the alert view for entering a password.</p>
<h2>Providing a Custom Way to Authenticate</h2>
<p>Previously we made a call to the <em>showPasswordAlert</em> method three times. Currently, Xcode indicates that there are some errors to the code, as this method has not been defined yet. As I have already said, and in order to keep things simple, we won&#8217;t create an extra view controller to allow users to type in a password as an alternative way to authenticate themselves. Instead, we will display an alert view with a secure textfield in it.</p>
<p>The <em>showPasswordAlert()</em> is going to be very simple, as we just need to display the alert message with the proper content. Here it is:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var passwordAlert <span style="color: #002200;">:</span> UIAlertView <span style="color: #002200;">=</span> UIAlertView<span style="color: #002200;">&#40;</span>title<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;TouchIDDemo&quot;</span>, message<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;Please type your password&quot;</span>, delegate<span style="color: #002200;">:</span> self, cancelButtonTitle<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;Cancel&quot;</span>, otherButtonTitles<span style="color: #002200;">:</span> <span style="color: #bf1d1a;">&quot;Okay&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; passwordAlert.alertViewStyle <span style="color: #002200;">=</span> UIAlertViewStyle.SecureTextInput<br />
&nbsp; &nbsp; &nbsp; &nbsp; passwordAlert.show<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Now, every time the user chooses to fall back to this way of authentication, or the TouchID authentication fails, the alert view will appear. However, that&#8217;s not enough in order to allow access to the app. What we also have to do, is to check if the typed password is the correct one. To do so, we must implement the <em>alertView(alertView:, clickedButtonAtIndex:)</em> alert view delegate method. If you see closely to the above code segment, we set our class (<em>self</em>) as the delegate of the alert view.</p>
<p>In the implementation that follows we assume that the user password is the <em>appcoda</em> word. It&#8217;s pointless to implement here an extra view controller with a form for setting a password. Also, as you&#8217;ll see, if the password is incorrect, or if the user hasn&#8217;t typed in any password at all, we display the alert view again.</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func alertView<span style="color: #002200;">&#40;</span>alertView<span style="color: #002200;">:</span> UIAlertView<span style="color: #002200;">!</span>, clickedButtonAtIndex buttonIndex<span style="color: #002200;">:</span> Int<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> buttonIndex <span style="color: #002200;">==</span> <span style="color: #2400d9;">1</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> <span style="color: #002200;">!</span>alertView.textFieldAtIndex<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">!</span>.text.isEmpty <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> alertView.textFieldAtIndex<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">!</span>.text <span style="color: #002200;">==</span> <span style="color: #bf1d1a;">&quot;appcoda&quot;</span> <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showPasswordAlert<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>In case that the given password is correct, then we&#8217;ll just load the note data and we&#8217;ll display it to the tableview (in a while).</p>
<p>Now, Xcode issues a new error. That&#8217;s because we haven&#8217;t adopted the <em>UIAlertViewDelegate</em> protocol. This is easy to be fixed, you just have to go to the top of the file, and next to the <em>UIViewController</em> superclass to add it:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">class ViewController<span style="color: #002200;">:</span> UIViewController, UIAlertViewDelegate</div></td></tr></tbody></table></div>
<p>Note that when subclassing and adopting protocols, the superclass is written first and then all the protocols you need, and all of them are separated by commas.</p>
<p>The alternate authentication mechanism is ready. As an advice, don&#8217;t use alert views to ask for a password, it&#8217;s a really bad idea. This is just a demo and therefore it doesn&#8217;t matter, but in the real world&#8230; it matters!</p>
<h2>Creating a New Note</h2>
<p>Now that we have implemented all possible ways to let users authenticate themselves and access the app, we can proceed by implementing the app itself. We will begin by building the feature of creating a new note, as this is necessary before we display any notes to the tableview. If we don&#8217;t create data, we can&#8217;t display data.</p>
<p>Since the beginning of the tutorial, I&#8217;ve mentioned several times that the note data is going to be stored to the disk, in the documents directory of the app specifically. Programmatically speaking, that means that we must develop the necessary methods to get the path of the notes file to the documents directory, and to check if that file exists. These two functionalities are needed in two places: In the <em>ViewController</em> class for checking if the file exists and for loading the data, and in the <em>EditNoteViewController</em> class, for loading any existing data and appending the new one, and of course for saving the edited note.</p>
<p>Because we need to do almost the same thing in two different classes, we&#8217;ll implement the two methods in the <em>AppDelegate</em> class and then by instantiating an application delegate object, we&#8217;ll access them directly. The first method is going to return the full path of the notes file. Go to the <em>AppDelegate.swift</em> file, and add the next implementation:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; String <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; let pathsArray <span style="color: #002200;">=</span> NSSearchPathForDirectoriesInDomains<span style="color: #002200;">&#40;</span>NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.UserDomainMask, <span style="color: #a61390;">true</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; let documentsPath <span style="color: #002200;">=</span> pathsArray<span style="color: #002200;">&#91;</span><span style="color: #2400d9;">0</span><span style="color: #002200;">&#93;</span> as String<br />
&nbsp; &nbsp; &nbsp; &nbsp; let dataFilePath <span style="color: #002200;">=</span> documentsPath.stringByAppendingPathComponent<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;notesData&quot;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> dataFilePath<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>As you see, I named the note file &#8220;notesData&#8221;, but it actually doesn&#8217;t matter how you&#8217;ll name it. In the above implementation, it&#8217;s demonstrated how we can access the documents directory in Swift. That&#8217;s useful, and you can keep it as a small reusable piece of code for future use in your applications. Besides that, this is the first time that we write a method that returns a value, and in this case as string value. When this method will be called, the full path to the notes data file will be returned, so we won&#8217;t have to manually compose it again.</p>
<p>Now, let&#8217;s write one more method that checks if the file actually exists or not to the documents directory:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func checkIfDataFileExists<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Bool <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSFileManager_Class/"><span style="color: #400080;">NSFileManager</span></a>.defaultManager<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.fileExistsAtPath<span style="color: #002200;">&#40;</span>getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> <span style="color: #a61390;">true</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> <span style="color: #a61390;">false</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>This is extremely simple! Here we use the <em>NSFileManager</em> class to determine whether the file exists or not, and it works just like it does in Objective-C. If the file is found, then we return <em>true</em>, otherwise the <em>false</em> value is returned.</p>
<p>With these two handy methods in our toolbox, we can move on to the note creation feature. Go to the <em>EditNoteViewController.swift</em> file, and begin by declaring and instantiating at the same time an application delegate constant:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">let appDelegate <span style="color: #002200;">=</span> UIApplication.sharedApplication<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.delegate as AppDelegate</div></td></tr></tbody></table></div>
<p>You can write the above command right after the last IBOutlet method. Notice that we use the <em>as</em> keyword to <em>downcast</em> the value we assign to the <em>appDelegate</em> constant.</p>
<p>Now, what do we need in order to make a new note to be created? The answer is simple: To make the Save button working. But before that, let&#8217;s do something else first.</p>
<p>It would be really nice if the keyboard would appear once this view controller is pushed to the navigation stack. That way, it would be much easier for our (hypothetic) users to start writing their notes. It only takes one line to do that, and it must be added to the <em>viewDidLoad</em> method:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">self.txtNoteTitle.becomeFirstResponder<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span></div></td></tr></tbody></table></div>
<p>With this, every time the view controller gets loaded the textfield will gain the focus and the keyboard will appear. Also, it would be cool if we would make the textview the first responder when the return key of the textfield keyboard gets tapped. For this, we need three things: To adopt the <em>UITextFieldDelegate</em> protocol, to make our class the delegate of the textfield, and finally to implement a textfield delegate method and control the behaviour of the return key.</p>
<p>Let&#8217;s see all that, as this is a nice chance to write even more code in Swift. At first, adopt the necessary protocol:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">class EditNoteViewController<span style="color: #002200;">:</span> UIViewController, UITextFieldDelegate</div></td></tr></tbody></table></div>
<p>Next, let&#8217;s make this class the delegate of the textfield. This will take place in the <em>viewDidLoad</em> method:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">txtNoteTitle.delegate <span style="color: #002200;">=</span> self</div></td></tr></tbody></table></div>
<p>Lastly, the textfield delegate method:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func textFieldShouldReturn<span style="color: #002200;">&#40;</span>textField<span style="color: #002200;">:</span> UITextField<span style="color: #002200;">!</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Bool <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Resign the textfield from first responder.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; textField.resignFirstResponder<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Make the textview the first responder.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tvNoteBody.becomeFirstResponder<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> <span style="color: #a61390;">true</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>As you see in the above code snippet, when the return key of the keyboard is tapped, we resign the textfield from first responder, and the textview gains the focus.</p>
<p>Now, let&#8217;s return to the Save button, and let&#8217;s focus on how we&#8217;ll make it to properly work. At first, as you know, we need to create an IBAction method that will trigger the saving action. To do so, open the <em>Main.storyboard</em> file, and once the Interface Builder appears, open the Assistant Editor as well.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_20_assistant_editor.png" alt="Assistant Editor" class="aligncenter size-full wp-image-4070" /></div>
<p>Make sure that in the Assistant Editor the <em>ViewController.swift</em> file is on:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_21_assistant_editor_file1.png" alt="Assistant Editor" class="aligncenter size-full wp-image-4280" /></div>
<p>Now, Ctrl-Click on the Save bar button item, and drag and drop to the Assistant Editor:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_22_drag_drop_assistant_editor1.png" alt="Assistant Editor" class="aligncenter size-full wp-image-4281" /></div>
<p>In the dialog that appears, select the <strong>Action</strong> option in the Connection drop down menu, and set the <strong>saveNote</strong> value as the name for the IBAction method. Then, click on the Connect button and you are ready.</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_23_ibaction_connect.png" alt="IBAction Connect" class="aligncenter size-full wp-image-4073" /></div>
<p>Now you can close the Assistant Editor, and return to the <em>EditNoteViewController.swift</em> file.</p>
<p>The first thing we&#8217;ll do in the <em>saveNote</em> method, is to check whether the user has typed in a title or not. If there&#8217;s not a title, then we&#8217;ll do nothing at all, we&#8217;ll just return from the method:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">@IBAction func saveNote<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> AnyObject<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> self.txtNoteTitle.text.isEmpty <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;No title for the note was typed.&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>The logic that we&#8217;ll follow next is this:</p>
<ul>
<li>At first, we&#8217;ll set to a <em>Dictionary</em> object (Swift dictionary) the title and the note body values.</li>
<li>Next, we&#8217;ll declare a mutable array (<em>NSMutableArray</em>).</li>
<li>If the notes data file already exists, then we&#8217;ll initialize the above array with its contents, and then we&#8217;ll append the new dictionary to that array.</li>
<li>If the notes data doesn&#8217;t exist, we&#8217;ll simply initialize the array by adding the dictionary to the init method.</li>
<li>We&#8217;ll store the file back to disk.</li>
<li>We&#8217;ll pop the view controller from the navigation controller stack.</li>
</ul>
<p>All the above are interpreted into code as follows:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;height:300px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br />25<br />26<br />27<br />28<br />29<br />30<br />31<br />32<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">@IBAction func saveNote<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> AnyObject<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> self.txtNoteTitle.text.isEmpty <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;No title for the note was typed.&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Create a dictionary with the note data.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var noteDict <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><span style="color: #bf1d1a;">&quot;title&quot;</span><span style="color: #002200;">:</span> self.txtNoteTitle.text, <span style="color: #bf1d1a;">&quot;body&quot;</span><span style="color: #002200;">:</span> self.tvNoteBody.text<span style="color: #002200;">&#93;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Declare a NSMutableArray object.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var dataArray<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// If the notes data file exists then load its contents and add the new note data too, otherwise</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// just initialize the dataArray array and add the new note data.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> appDelegate.checkIfDataFileExists<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Load any existing notes.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray <span style="color: #002200;">=</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">&#40;</span>contentsOfFile<span style="color: #002200;">:</span> appDelegate.getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Add the dictionary to the array.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray.addObject<span style="color: #002200;">&#40;</span>noteDict<span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Create a new mutable array and add the noteDict object to it.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray <span style="color: #002200;">=</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">&#40;</span>object<span style="color: #002200;">:</span> noteDict<span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Save the array contents to file.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; dataArray.writeToFile<span style="color: #002200;">&#40;</span>appDelegate.getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>, atomically<span style="color: #002200;">:</span> <span style="color: #a61390;">true</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Pop the view controller</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; self.navigationController<span style="color: #002200;">!</span>.popViewControllerAnimated<span style="color: #002200;">&#40;</span><span style="color: #a61390;">true</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Simple as that! Notice how handy the two methods we implemented in the application delegate are. The same useful are going to be proved later as well.</p>
<p>The above implementation is fine, as every time that the Save button will be tapped, the note will be saved to the disk and the view controller will be popped. However, there&#8217;s a major problem here: The <em>ViewController</em> class can&#8217;t know if a note has been saved when the <em>EditNoteViewController</em> view controller gets popped, and it won&#8217;t update the tableview as it should do. This is a serious issue, and we&#8217;ll counter attack it by implementing a custom protocol and using the delegation pattern. However, we&#8217;ll do this after a while, as we must first return to the <em>ViewController</em> class and implement the data loading feature.</p>
<h2>Listing Notes</h2>
<p>Many times during the TouchID and the custom authentication implementation I mentioned that the notes data should be loaded in certain cases, but we still haven&#8217;t done anything about that. Now that we can create notes successfully, we can implement the data loading feature and list any existing notes to the tableview.</p>
<p>Begin by going to the <em>ViewController.swift</em> file. Here, we have to perform two specific tasks: The first is to create a new method and load the data. The second is to implement all the necessary tableview methods, so we can properly display the loaded method to the tableview.</p>
<p>We&#8217;ll begin from the first one, and we&#8217;ll write a new method named <em>loadData</em>. Before we do so however, we need two things. At first, we must instantiate an application delegate object, so we can access the two methods of the <em>AppDelegate</em> class we implemented earlier. Go right after the IBOutlet property at the top of the class, and write the next line:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">let appDelegate <span style="color: #002200;">=</span> UIApplication.sharedApplication<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.delegate as AppDelegate</div></td></tr></tbody></table></div>
<p>Also, we need an array (a <em>NSMutableArray</em>) that will be used as a data container. If you&#8217;re wondering why a mutable array and not an immutable one, then I must say because later we&#8217;ll implement another feature for deleting notes, and we&#8217;ll need to modify the array&#8217;s contents. Right below the <em>appDelegate</em> declaration, add this:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">var dataArray<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">!</span></div></td></tr></tbody></table></div>
<p>Note that the array has been declared as an optional, because if no data file exists, the array will remain nil.</p>
<p>Now, we can proceed to the new method implementation. As you&#8217;ll see, it&#8217;s pretty simple. If the data file exists, then we load its contents to the array and we reload the tableview, otherwise we just display a message to the console.</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func loadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> appDelegate.checkIfDataFileExists<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.dataArray <span style="color: #002200;">=</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">&#40;</span>contentsOfFile<span style="color: #002200;">:</span> appDelegate.getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.tblNotes.reloadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; println<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;File does not exist&quot;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>By having the above method ready, we can go and call it wherever it&#8217;s needed. Let&#8217;s begin by going to the <em>authenticateUser</em> method, in the completion handler block and in the successful authentication case:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap"><span style="color: #a61390;">if</span> success <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSOperationQueue_Class/"><span style="color: #400080;">NSOperationQueue</span></a>.mainQueue<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.addOperationWithBlock<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#123;</span> <span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Void <span style="color: #a61390;">in</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.loadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Once again, I must underline the need to use the main thread for loading and displaying the data.</p>
<p>Also, let&#8217;s call it when the correct password is typed in the alert view:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap"><span style="color: #a61390;">if</span> alertView.textFieldAtIndex<span style="color: #002200;">&#40;</span><span style="color: #2400d9;">0</span><span style="color: #002200;">&#41;</span>.text <span style="color: #002200;">==</span> <span style="color: #bf1d1a;">&quot;appcoda&quot;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; loadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Let&#8217;s go now to the second mission of this section. This is to setup the tableview properly, so we can list the notes that we load from the file.</p>
<p>Initially, we must adopt the <em>UITableViewDelegate</em> and <em>UITableViewDataSource</em> protocols, therefore go to the top of the file and add them:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">class ViewController<span style="color: #002200;">:</span> UIViewController, UIAlertViewDelegate, UITableViewDelegate, UITableViewDataSource</div></td></tr></tbody></table></div>
<p>Of course, we shouldn&#8217;t forget that our own class must be the delegate and datasource for the tableview. Go to the <em>viewDidLoad</em> method and do that:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">override func viewDidLoad<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ...<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; tblNotes.delegate <span style="color: #002200;">=</span> self<br />
&nbsp; &nbsp; &nbsp; &nbsp; tblNotes.dataSource <span style="color: #002200;">=</span> self<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Finally, let&#8217;s begin the implementation of the necessary tableview delegate and datasource methods. At first, we must specify the number of sections in the tableview:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func numberOfSectionsInTableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView<span style="color: #002200;">!</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Int <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> <span style="color: #2400d9;">1</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Next, we must return the proper number of rows. Remember at this point that if the notes data file doesn&#8217;t exist, the <em>dataArray</em> mutable array we declared earlier won&#8217;t get initialised and it will remain nil. So, we must be sure first that the array is not nil and return the proper number of rows, otherwise we must return 0.</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, numberOfRowsInSection section<span style="color: #002200;">:</span> Int<span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Int <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> let array <span style="color: #002200;">=</span> dataArray <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> array.count<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> <span style="color: #2400d9;">0</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>As you see, if the <em>dataArray</em> actually exists, we unwrap it to the <em>array</em> constant and we return the total number of its objects.</p>
<p>Before we keep going, I must say that there&#8217;s an alternative to the above implementation. Actually, you can return just the total number of objects existing on the array as follows&#8230;</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, numberOfRowsInSection section<span style="color: #002200;">:</span> Int<span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; Int <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> dataArray.count<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>&#8230; as long as you don&#8217;t declare the <em>dataArray</em> as an optional, but you initialize it upon its declaration so it will never be nil. So, instead of writing this&#8230;</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">var dataArray<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">!</span></div></td></tr></tbody></table></div>
<p>&#8230; you just need to write this:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">var dataArray<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a> <span style="color: #002200;">=</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span></div></td></tr></tbody></table></div>
<p>However, this approach would make the <em>dataArray</em> to be initialised once again with the contents of the file in the <em>loadData</em> method, but furthermore, our initial implementation consists of a nice chance to work with optionals!</p>
<p>Our next step is to return a cell:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, cellForRowAtIndexPath indexPath<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/"><span style="color: #400080;">NSIndexPath</span></a><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; UITableViewCell <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var cell <span style="color: #002200;">=</span> tableView.dequeueReusableCellWithIdentifier<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;idCell&quot;</span><span style="color: #002200;">&#41;</span> as UITableViewCell<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; let currentNote <span style="color: #002200;">=</span> self.dataArray.objectAtIndex<span style="color: #002200;">&#40;</span>indexPath.row<span style="color: #002200;">&#41;</span> as Dictionary&lt;String, String&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; cell.textLabel<span style="color: #002200;">!</span>.text <span style="color: #002200;">=</span> currentNote<span style="color: #002200;">&#91;</span><span style="color: #bf1d1a;">&quot;title&quot;</span><span style="color: #002200;">&#93;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> cell<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>After having dequeued the cell, we assign the dictionary with each note data to the <em>currentNote</em> constant. Next, we just get the each note&#8217;s title and we set it as the text to the cell&#8217;s label.</p>
<p>Finally, we need one more method in order to specify the height of each row:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, heightForRowAtIndexPath indexPath<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/"><span style="color: #400080;">NSIndexPath</span></a><span style="color: #002200;">&#41;</span> <span style="color: #002200;">-</span>&gt; CGFloat <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">return</span> <span style="color: #2400d9;">60.0</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Now, any notes existing to the file can be listed to the tableview. Next, we&#8217;ll see how to implement the delegation properly, so the tableview is reloaded when a new note is composed.</p>
<h2>The Delegation Pattern</h2>
<p>When it&#8217;s necessary to use the delegation pattern in Objective-C in order to inform the delegate class about data changes that took place in a different class, there are specific steps that are required to be done. These steps include the creation of a protocol, the declaration of specific methods, the conformance of the delegate class to the new protocol, etc. In Swift, using delegation isn&#8217;t difficult at it looks a lot to the way of the Objective-C.</p>
<p>I said in a previous section of the tutorial that we must tell the <em>ViewController</em> class when a new note gets created (or updated as we&#8217;ll see next), so it reloads the data from the disk and refreshes the tableview. Right now, this is not possible to happen simply because the <em>EditNoteViewController</em> class doesn&#8217;t inform the <em>ViewController</em> class, and the best possible way would be to use the delegation pattern.</p>
<p>The first step is to create a new <em>protocol</em>. Open the <em>EditNoteViewController.swift</em> file, and go to the top of it, before the implementation of the class. Then, add the protocol:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">protocol EditNoteViewControllerDelegate<span style="color: #002200;">&#123;</span><br />
<br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>In there, we&#8217;ll declare just one method that will be called every time a note gets saved:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">protocol EditNoteViewControllerDelegate<span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; func noteWasSaved<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Next, we must declare a delegate property (variable). Inside the class this time, write the next line:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">var delegate <span style="color: #002200;">:</span> EditNoteViewControllerDelegate?</div></td></tr></tbody></table></div>
<p>Note the question mark at the end of the above command. The <em>delegate</em> property must be an optional value, because it&#8217;s possible no object to be assigned to it (if, for example, we don&#8217;t set any delegate class), so it will remain nil.</p>
<p>There are now two important tasks we need to perform: The first one, is to update the <em>saveNote</em> IBAction method, so when a note is saved the <em>noteWasSaved</em> delegate method to be called. The second is to implement this method in the <em>ViewController</em> class, so every time it receives a message to load the data and update the tableview.</p>
<p>Beginning with the first one, go to the <em>saveNote</em> IBAction method and right before the command that pops the view controller from the navigation stack, add the following line:</p>
<p>@IBAction func saveNote(sender: AnyObject) {<br />
 &#8230;</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Notify the delegate class that the note has been saved.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; delegate?.noteWasSaved<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Pop the view controller</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; self.navigationController<span style="color: #002200;">!</span>.popViewControllerAnimated<span style="color: #002200;">&#40;</span><span style="color: #a61390;">true</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>This is all we need in order to let the delegate class know about the note saving.</p>
<p>Now, let&#8217;s go back to the <em>ViewController</em> class. First of all, it&#8217;s required to adopt the new protocol, so do it now:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">class ViewController<span style="color: #002200;">:</span> UIViewController, UIAlertViewDelegate, UITableViewDelegate, UITableViewDataSource, EditNoteViewControllerDelegate</div></td></tr></tbody></table></div>
<p>By adding the protocol as shown above, Xcode issues an error saying that the <em>ViewController</em> class doesn&#8217;t conform to it. That happens because we still haven&#8217;t implemented the <em>noteWasSaved</em> delegate method. Here it is:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func noteWasSaved<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Load the data and reload the table view.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; loadData<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>The <em>loadData</em> method will do all the work we want. It will load the notes data from the disk and it will refresh the tableview.</p>
<p>There&#8217;s one final thing we must do, otherwise nothing is going to work. That is to make the <em>ViewController</em> class the delegate of the <em>EditNoteViewController</em>. We&#8217;ll do that in the <em>prepareForSegue</em> method, as that&#8217;s the proper place to do such things when working with segues. Here it is:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">override func prepareForSegue<span style="color: #002200;">&#40;</span>segue<span style="color: #002200;">:</span> UIStoryboardSegue, sender<span style="color: #002200;">:</span> AnyObject<span style="color: #002200;">!</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Get the new view controller using segue.destinationViewController.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Pass the selected object to the new view controller.</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> segue.identifier <span style="color: #002200;">==</span> <span style="color: #bf1d1a;">&quot;idSegueEditNote&quot;</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var editNoteViewController <span style="color: #002200;">:</span> EditNoteViewController <span style="color: #002200;">=</span> segue.destinationViewController as EditNoteViewController<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; editNoteViewController.delegate <span style="color: #002200;">=</span> self<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Even though there&#8217;s no other segue and the <em>if</em> statement above could be omitted, I intentionally added it as I wanted to show how to check for the proper segue in Swift. Anyway, using the <em>destinationViewController</em> property of the segue, we get an instance of the <em>EditNoteViewController</em> and then we set our class as its delegate.</p>
<p>That&#8217;s all! If you review what we just did, you&#8217;ll notice that using protocols and delegation in Swift is easy, and the steps involved in the process are quite specific.</p>
<h2>Editing Notes</h2>
<p>At this point, our demo application is fully functional and besides that, fully protected as well. However, it would be quite interesting to keep working a bit more on it, so we have the chance to get to know Swift even more. Therefore, we&#8217;ll add two more features regarding the editing of existing notes and the deletion of them.</p>
<p>In this part we&#8217;ll focus on how we&#8217;ll edit a note. The logic that we&#8217;ll follow is quite simple: Once the user taps on a tableview cell to edit a note, the index of the tapped row matching to the note that should be edited will be sent to the <em>EditNoteViewController</em> view controller. This view controller will load the notes from the disk, and it will display the details of the note that matches to the received index. However, we shouldn&#8217;t forget to update the <em>saveNote</em> method, so it won&#8217;t save an edited note as a new one.</p>
<p>We&#8217;ll see everything step by step. At first, we must implement the next tableview method to handle the taps on the cells:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, didSelectRowAtIndexPath indexPath<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/"><span style="color: #400080;">NSIndexPath</span></a><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>When a cell is tapped, we want to keep its row index and then display the <em>EditNoteViewController</em> view controller by performing the appropriate segue. We must declare a new property for storing the row index, so go at the top of the class where all property declarations exist, and add the next one:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">var noteIndexToEdit<span style="color: #002200;">:</span> Int<span style="color: #002200;">!</span></div></td></tr></tbody></table></div>
<p>In the new tableview method now, here&#8217;s what we only need to do:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, didSelectRowAtIndexPath indexPath<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/"><span style="color: #400080;">NSIndexPath</span></a><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; noteIndexToEdit <span style="color: #002200;">=</span> indexPath.row<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; performSegueWithIdentifier<span style="color: #002200;">&#40;</span><span style="color: #bf1d1a;">&quot;idSegueEditNote&quot;</span>, sender<span style="color: #002200;">:</span> self<span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Nothing hard, we just store the row index and we perform the segue by specifying its identity.</p>
<p>According to what I said earlier, the <em>noteIndexToEdit</em> property&#8217;s value is the one that we must send to the <em>EditNoteViewController</em> once it gets loaded. Programmatically, that means that we have to create a similar property to the <em>EditNoteViewController</em> class, and then assign to it the value of the <em>noteIndexToEdit</em> property.</p>
<p>Open the <em>EditNoteViewController.swift</em> file, and declare the next one:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">var indexOfEditedNote <span style="color: #002200;">:</span> Int<span style="color: #002200;">!</span></div></td></tr></tbody></table></div>
<p>Now, return to the <em>ViewController.swift</em> file and locate the <em>prepareForSegue</em> method. In there, do what I described right before:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">override func prepareForSegue<span style="color: #002200;">&#40;</span>segue<span style="color: #002200;">:</span> UIStoryboardSegue, sender<span style="color: #002200;">:</span> AnyObject<span style="color: #002200;">!</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> segue.identifier <span style="color: #002200;">==</span> <span style="color: #bf1d1a;">&quot;idSegueEditNote&quot;</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ...<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> <span style="color: #002200;">&#40;</span>noteIndexToEdit <span style="color: #002200;">!=</span> <span style="color: #a61390;">nil</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; editNoteViewController.indexOfEditedNote <span style="color: #002200;">=</span> noteIndexToEdit<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noteIndexToEdit <span style="color: #002200;">=</span> <span style="color: #a61390;">nil</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>An important observation now. Notice that after we have assigned the index of the note that&#8217;s about to be edited to the <em>indexOfEditedNote</em> property, we make the <em>noteIndexToEdit</em> nil. That&#8217;s necessary to be done if we want to be able to create new notes later. If we wouldn&#8217;t do so, then after having edited a note, the <em>noteIndexToEdit</em> property would still have a value, and upon the creation of a new note the <em>EditNoteViewController</em> view controller would &#8220;think&#8221; that we want to edit an existing one. Of course, that would cause a big problem later.</p>
<p>At this point, we have finished what we had to do in this class. Let&#8217;s visit again now the <em>EditNoteViewController.swift</em>, where we need to do some more work. At first, and in order to make things a bit cleaner, let&#8217;s create a new method as shown below:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func editNote<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Load all notes.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; var notesArray<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/"><span style="color: #400080;">NSArray</span></a> <span style="color: #002200;">=</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/"><span style="color: #400080;">NSArray</span></a><span style="color: #002200;">&#40;</span>contentsOfFile<span style="color: #002200;">:</span> appDelegate.getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Get the dictionary at the specified index.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; let noteDict <span style="color: #002200;">:</span> Dictionary <span style="color: #002200;">=</span> notesArray.objectAtIndex<span style="color: #002200;">&#40;</span>indexOfEditedNote<span style="color: #002200;">&#41;</span> as Dictionary&lt;String, String&gt;<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Set the textfield text.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; txtNoteTitle.text <span style="color: #002200;">=</span> noteDict<span style="color: #002200;">&#91;</span><span style="color: #bf1d1a;">&quot;title&quot;</span><span style="color: #002200;">&#93;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Set the textview text.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; tvNoteBody.text <span style="color: #002200;">=</span> noteDict<span style="color: #002200;">&#91;</span><span style="color: #bf1d1a;">&quot;body&quot;</span><span style="color: #002200;">&#93;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>As you can see, we perform some specific steps. At first we load all the notes from the disk, then we assign to a dictionary object the one matching to the note we want to edit, and finally we set the textfield and textview texts so we can modify them.</p>
<p>By having the above method prepared, we must find the proper place to call it. It&#8217;s important to select the correct point to do that, because it&#8217;s possible both the textfield and the textview not to have been initialised by the time we call that method. For example, if we call this method in the <em>viewDidLoad</em> method, then our app will probably crash, because the textfield and the textview will be still nil.</p>
<p>The best place in which we know that our subviews have been initialised, is after the view has appeared, so we just have to override and implement the <em>viewDidAppear</em> method. Here it is:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">override func viewDidAppear<span style="color: #002200;">&#40;</span>animated<span style="color: #002200;">:</span> Bool<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> <span style="color: #002200;">&#40;</span>indexOfEditedNote <span style="color: #002200;">!=</span> <span style="color: #a61390;">nil</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; editNote<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Note that before we call our method, we check if the <em>indexOfEditedNote</em> has actually a value and it&#8217;s not nil.</p>
<p>Finally, we need to modify a bit once again the <em>saveNote</em> IBAction method, so to properly store an edited note. As you can guess, we&#8217;ll check if the <em>indexOfEditedNote</em> property has a value or it&#8217;s nil. If it has a value, we&#8217;ll replace the existing note with the edited one, and if it&#8217;s nil, we&#8217;ll just store the new note.</p>
<p>Go to the <em>saveNote</em> IBAction method, and find the next <em>if</em> statement:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap"><span style="color: #a61390;">if</span> appDelegate.checkIfDataFileExists</div></td></tr></tbody></table></div>
<p>In it&#8217;s body, we&#8217;ll perform exactly what we said. Modify it as shown below:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">@IBAction func saveNote<span style="color: #002200;">&#40;</span>sender<span style="color: #002200;">:</span> AnyObject<span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ...<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> appDelegate.checkIfDataFileExists<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Load any existing notes.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray <span style="color: #002200;">=</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span style="color: #400080;">NSMutableArray</span></a><span style="color: #002200;">&#40;</span>contentsOfFile<span style="color: #002200;">:</span> appDelegate.getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Check if is editing a note or not.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> indexOfEditedNote <span style="color: #002200;">==</span> <span style="color: #a61390;">nil</span> <span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Add the dictionary to the array.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray.addObject<span style="color: #002200;">&#40;</span>noteDict<span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">else</span><span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Replace the existing dictionary to the array.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray.replaceObjectAtIndex<span style="color: #002200;">&#40;</span>indexOfEditedNote, withObject<span style="color: #002200;">:</span> noteDict<span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ...<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>If the <em>indexOfEditedNote</em> property is nil, then we just add the dictionary with the note details to the <em>dataArray</em> array. However, if that property has a value, then we replace the existing dictionary to the array with the new one in the index specified by the property.</p>
<p>Now our application is capable of editing and saving existing notes too!</p>
<h2>Deleting Notes</h2>
<p>We have seen many different things up to this point in the tutorial, and now it&#8217;s time to implement the last one remaining: The notes deletion. By adding this feature too, our sample app will become as complete as possible.</p>
<p>At first, open the <em>ViewController.swift</em> file. Here we&#8217;ll implement the next tableview method:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, commitEditingStyle editingStyle<span style="color: #002200;">:</span> UITableViewCellEditingStyle, forRowAtIndexPath indexPath<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/"><span style="color: #400080;">NSIndexPath</span></a><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>Using an <em>if</em> statement, we&#8217;ll determine if the user slides the finger on a cell towards left in order to reveal the Delete button. If that&#8217;s the case, then we&#8217;ll remove the proper dictionary from the data source array (the <em>dataArray</em>), and we&#8217;ll store the array&#8217;s contents back to file so they remain updated, and finally we&#8217;ll refresh the tableview using an animated way. Here it is:</p>
<div class="codecolorer-container objc geshi" style="overflow:auto;white-space:nowrap;width:750px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br /></div></td><td><div class="objc codecolorer" style="white-space:nowrap">func tableView<span style="color: #002200;">&#40;</span>tableView<span style="color: #002200;">:</span> UITableView, commitEditingStyle editingStyle<span style="color: #002200;">:</span> UITableViewCellEditingStyle, forRowAtIndexPath indexPath<span style="color: #002200;">:</span> <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/"><span style="color: #400080;">NSIndexPath</span></a><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#123;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #a61390;">if</span> editingStyle <span style="color: #002200;">==</span> UITableViewCellEditingStyle.Delete<span style="color: #002200;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Delete the respective object from the dataArray array.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray.removeObjectAtIndex<span style="color: #002200;">&#40;</span>indexPath.row<span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Save the array to disk.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let appDelegate <span style="color: #002200;">=</span> UIApplication.sharedApplication<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>.delegate as AppDelegate<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataArray.writeToFile<span style="color: #002200;">&#40;</span>appDelegate.getPathOfDataFile<span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>, atomically<span style="color: #002200;">:</span> <span style="color: #a61390;">true</span><span style="color: #002200;">&#41;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #11740a; font-style: italic;">// Reload the tableview.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tblNotes.reloadSections<span style="color: #002200;">&#40;</span><a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexSet_Class/"><span style="color: #400080;">NSIndexSet</span></a><span style="color: #002200;">&#40;</span>index<span style="color: #002200;">:</span> <span style="color: #2400d9;">0</span><span style="color: #002200;">&#41;</span>, withRowAnimation<span style="color: #002200;">:</span> UITableViewRowAnimation.Automatic<span style="color: #002200;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #002200;">&#125;</span> &nbsp; &nbsp; &nbsp; &nbsp;<br />
&nbsp; &nbsp; <span style="color: #002200;">&#125;</span></div></td></tr></tbody></table></div>
<p>That&#8217;s all we need! Any existing note can now be deleted straight away. It might be useful to add a confirmation alert view, but it would be pointless to do that here.</p>
<h2>Compile and Run</h2>
<p>Even though I&#8217;m pretty sure that you have already run and tested the app, it&#8217;s my duty to say that now is the best time to try it. Run it and play around with the TouchID, the custom alert view, and of course, add, edit and delete notes. Right next there are some screenshots from the app:</p>
<p>The TouchID dialog:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/touch_id_sample.png" alt="touch_id_sample" class="aligncenter size-full wp-image-4088" /></div>
<p>Here&#8217;s the alert view with the secure textfield for typing the password:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_24_alertview_sample.png" alt="Alert View Sample Touch ID" class="aligncenter size-full wp-image-4074" /></div>
<p>Composing a new note:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_25_create_note_sample.png" alt="touch id create note sample" class="aligncenter size-full wp-image-4075" /></div>
<p>Displaying notes:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_26_display_notes_sample.png" alt="touch id display note sample" class="aligncenter size-full wp-image-4076" /></div>
<p>Deleting a note:</p>
<div class="figure"><img src="http://www.appcoda.com/wp-content/uploads/2014/09/t20_27_delete_note_sample.png" alt="delete note sample" class="aligncenter size-full wp-image-4077" /></div>
<h2>Summary</h2>
<p>We just reached the end of the first tutorial regarding a technology shipped with iOS 8. For the first time, we created a whole application using the all brand new Swift programming language, and we wrote code for a lot of programming aspects with it. I intentionally demonstrated so many features of the sample application in this tutorial, as it was a great opportunity to learn many new things.</p>
<p>Before I finish the tutorial, I would like to make a quick recap. Using Swift we:</p>
<ol>
<li>Implemented the TouchID authentication mechanism and used the <em>LocalAuthentication</em> framework.</li>
<li>Created IBOutlet properties and IBAction methods.</li>
<li>Implemented the required tableview methods.</li>
<li>Created a simple protocol.</li>
<li>Used the delegation pattern.</li>
<li>Worked with files and the documents directory.</li>
<li>Executed a method on the main thread using the <em>NSOperationQueue</em> class.</li>
<li>Converted the logic of an application from simple thoughts to code.</li>
</ol>
<p>I really want to believe that this tutorial will help all of you. As you see, there are a lot of new things waiting for us to learn and explore, and that&#8217;s exactly what we will do. Don&#8217;t hesitate to experiment as much as possible with Swift and the iOS 8 new features. Until next time, I wish you farewell, and don&#8217;t forget to share your thoughts with us!</p>
<p>For your reference, you can <a href="https://www.dropbox.com/s/cbqj8bf5ndsuq6z/TouchIDDemo.zip?dl=0">download the complete Xcode project from here</a>.</p>

<!-- Quick Adsense WordPress Plugin: http://quicksense.net/ -->
<div style="float:none;margin:20px 0 20px 0;text-align:center;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8501671653071605";
/* Appcoda_336_280_Ad */
google_ad_slot = "4009415334";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<div style="font-size:0px;height:0px;line-height:0px;margin:0;padding:0;clear:both"></div><h3>You May Like These:</h3><div style="clear: both"></div><div style="border: 0pt none ; margin: 0pt; padding: 0pt;"><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/how-to-get-current-location-iphone-user/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2012/09/MyLocation-Xcode-Project1-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">iOS Programming 101: How To Get the User Location in iPhone App</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/uipageviewcontroller-tutorial-intro/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2013/06/UIPageViewController-Tutorial-Screen-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">How to Use UIPageViewController to Build Tutorial Screens</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/ios-programming-send-sms-text-message/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2013/07/SMSDemo-Featured-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">iOS Programming 101: How To Send SMS Text Message in iPhone Apps</div></div></a><a onmouseout="this.style.backgroundColor='#FFFFFF'" onmouseover="this.style.backgroundColor='#EEEEEF'" style="background-color: #FFFFFF; border-right: 1px solid #DDDDDD; border-bottom: medium none; margin: 0pt; padding: 6px; display: block; float: left; text-decoration: none; text-align: left; cursor: pointer;" href="http://www.appcoda.com/ios-programming-import-contact-address-book/"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; width: 150px; height: 225px;"><div style="border: 0pt none ; margin: 0pt; padding: 0pt; background: transparent url(http://www.appcoda.com/wp-content/uploads/2013/12/addressbook-featured1-150x150.jpg) no-repeat scroll 0% 0%; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; width: 150px; height: 150px;"></div><div style="border: 0pt none; margin: 3px 0pt 0pt; padding: 0pt; font-family: ; font-style: normal; font-variant: normal; font-weight: normal; font-size: 16px; line-height: normal; font-size-adjust: none; font-stretch: normal; -x-system-font: none; color: #333333;">How To Import Contacts Using Address Book Framework</div></div></a></div><div style="clear: both"></div><span class="et_social_bottom_trigger"></span><!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.appcoda.com/touch-id-api-ios8/"
    dc:identifier="http://www.appcoda.com/touch-id-api-ios8/"
    dc:title="Working with Touch ID API in iOS 8 SDK"
    trackback:ping="http://www.appcoda.com/touch-id-api-ios8/trackback/" />
</rdf:RDF>-->
</div><div class="post-meta"><span class="categories">Filed Under: <a href="http://www.appcoda.com/course/" rel="category tag">Course</a>, <a href="http://www.appcoda.com/course/intermediate/" rel="category tag">Intermediate</a>, <a href="http://www.appcoda.com/swift-2/" rel="category tag">Swift</a>, <a href="http://www.appcoda.com/tutorials/" rel="category tag">Tutorials</a></span> <span class="tags">Tagged With: <a href="http://www.appcoda.com/tag/apple-pay/" rel="tag">apple pay</a>, <a href="http://www.appcoda.com/tag/ios-8/" rel="tag">iOS 8</a>, <a href="http://www.appcoda.com/tag/ios-programming/" rel="tag">iOS Programming</a>, <a href="http://www.appcoda.com/tag/local-authentication/" rel="tag">local authentication</a>, <a href="http://www.appcoda.com/tag/swift/" rel="tag">swift</a>, <a href="http://www.appcoda.com/tag/touchid/" rel="tag">touchid</a></span></div><div class="after-post widget-area"><div id="text-8" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Get Free Chapters of Our Swift Book</h4>
			<div class="textwidget"><a href="http://www.appcoda.com/swift/"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/swift-book-cover-227x300.png" alt="Beginning iOS 8 Programming with Swift" class="alignright size-medium wp-image-4153" width="200" /></a>If you want to create an app but don't know where to begin, this book covers the whole aspect of Swift programming and iOS 8 development and shows you every step from an idea to a real app on App Store. This book features a lot of hands-on exercises and projects. You will first create a simple app, then prototype an app idea, and later add some features to it in each chapter, until a real app is built. Want to learn more? <a href="http://www.appcoda.com/swift/">Check it out here and get three free chapters.</a>
</p>
<br/></div>
		</div></div>
<div id="featured-page-2" class="widget featured-content featuredpage"><div class="widget-wrap"><h4 class="widget-title widgettitle">Sign Up for our Free Tutorials</h4>
<div class="post-38 page type-page status-publish has-post-thumbnail hentry entry"><ul>
<li>Learn iOS Programming From Scratch</li>
<li>Step by Step Guide to Build Your First iPhone App</li>
<li>Complete Source Code for Your Reference</li>
<li>More Programming Tips and Tutorials to Come</li>
</ul>
<div class="enews">
<h4 class="widgettitle">Whatcha waiting for?</h4>
<form action="http://sendy.appcoda.com/sendy/subscribe" method="post" id="subscribe" name="mc-embedded-subscribe-form" class="validate" target="_blank" accept-charset="utf-8">
	<input type="email" id="subbox" value="" name="email" class="email" id="mce-EMAIL" placeholder="Enter your email address" required><input type="submit" value="Subscribe" name="subscribe" id="subbutton" class="button"><br />
	<input type="hidden" name="list" value="KEdC8BeT8EC8znOnfjSQAw"/><br />
</form>
</div>
</div></div></div>
</div></div><div class="author-box"><div><img alt='' src='http://2.gravatar.com/avatar/582c964c3dafd700a4df627225d859fe?s=70&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/582c964c3dafd700a4df627225d859fe?s=140&amp;d=mm&amp;r=g 2x' class='avatar avatar-70 photo' height='70' width='70' /> <strong>About Gabriel Theodoropoulos</strong><br /><p>Gabriel has been a software developer for about two decades. He has long experience in developing software solutions for various platforms in many programming languages. Since middle-2010 he has been developing almost exclusively for iOS. Tutorials consist of the best way to share knowledge with people all over the world. Follow Gabriel at <a href="http://plus.google.com/+gabrieltheodoropoulos">Google+</a> and <a href="https://twitter.com/gabtheodor">Twitter</a>.</p>
</div></div>
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-49409">
        <div id="dsq-comment-header-49409" class="dsq-comment-header">
            <cite id="dsq-cite-49409">
                <span id="dsq-author-user-49409">Moazam</span>
            </cite>
        </div>
        <div id="dsq-comment-body-49409" class="dsq-comment-body">
            <div id="dsq-comment-message-49409" class="dsq-comment-message"><p>Great article! Can you label your screenshots?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-51089">
        <div id="dsq-comment-header-51089" class="dsq-comment-header">
            <cite id="dsq-cite-51089">
                <span id="dsq-author-user-51089">lks.</span>
            </cite>
        </div>
        <div id="dsq-comment-body-51089" class="dsq-comment-body">
            <div id="dsq-comment-message-51089" class="dsq-comment-message"><p>I had the problem that after I added the segue I had no Navigation Bar in my EditNoteViewController. I solved the problem with changing the type of the segue to the old &#8220;Push&#8221; type. Then I changed it back to the new &#8220;show&#8221;. And here you go, now you can add BarButtons and edit the title.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-51364">
        <div id="dsq-comment-header-51364" class="dsq-comment-header">
            <cite id="dsq-cite-51364">
                <span id="dsq-author-user-51364">Kacper20</span>
            </cite>
        </div>
        <div id="dsq-comment-body-51364" class="dsq-comment-body">
            <div id="dsq-comment-message-51364" class="dsq-comment-message"><p>I have one question: what&#8217;s the difference between explicitely unwrapping error by &#8216;!&#8217; vs &#8216;error?&#8217;?<br />
What is this question mark doing with error variable?<br />
Thanks for answer</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-51782">
        <div id="dsq-comment-header-51782" class="dsq-comment-header">
            <cite id="dsq-cite-51782">
http://www.appcoda.com/                <span id="dsq-author-user-51782">Simon Ng</span>
            </cite>
        </div>
        <div id="dsq-comment-body-51782" class="dsq-comment-body">
            <div id="dsq-comment-message-51782" class="dsq-comment-message"><p>In Swift, you can unwrap an optional using exclamation mark, which is known as forced unwrapping. Alternatively, you use optional chaining to access a property on an optional value (i.e. error?).</p>
<p>You may refer to this article for details:</p>
<p><a href="http://www.appcoda.com/beginners-guide-optionals-swift/" rel="nofollow">http://www.appcoda.com/beginners-guide-optionals-swift/</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-51807">
        <div id="dsq-comment-header-51807" class="dsq-comment-header">
            <cite id="dsq-cite-51807">
                <span id="dsq-author-user-51807">pradeep</span>
            </cite>
        </div>
        <div id="dsq-comment-body-51807" class="dsq-comment-body">
            <div id="dsq-comment-message-51807" class="dsq-comment-message"><p>I wish you could have also explained in objective c <img src="http://www.appcoda.com/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-51836">
        <div id="dsq-comment-header-51836" class="dsq-comment-header">
            <cite id="dsq-cite-51836">
                <span id="dsq-author-user-51836">Deepu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-51836" class="dsq-comment-body">
            <div id="dsq-comment-message-51836" class="dsq-comment-message"><p>hey guys I worked on Touch ID api in objective c in my app. Before I test the app I had tested my fingers with other apps which has Touch ID option in it. It worked very well. But when I tested in my app it doesn&#8217;t authenticate me all the time. Failures were more than success. And if it success it is taking some time and then displays what the app has to display. I followed the documentation and did lacontext everything in  view did load .</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-52198">
        <div id="dsq-comment-header-52198" class="dsq-comment-header">
            <cite id="dsq-cite-52198">
                <span id="dsq-author-user-52198">Dr. Gabriel Tomitsuka</span>
            </cite>
        </div>
        <div id="dsq-comment-body-52198" class="dsq-comment-body">
            <div id="dsq-comment-message-52198" class="dsq-comment-message"><p>Disagree you should simply stop supporting Objective-C. It is still the Xcode&#8217;s main language and you should support both languages(Parse tutorials currently do that). Hope other tutorial sites don&#8217;t &#8220;discontinue&#8221; Objective-C. The main reason I am criticising this is that I simply have no time for learning a new language and clearly I won&#8217;t be able to read the new tutorials here.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-56958">
        <div id="dsq-comment-header-56958" class="dsq-comment-header">
            <cite id="dsq-cite-56958">
                <span id="dsq-author-user-56958">Mike</span>
            </cite>
        </div>
        <div id="dsq-comment-body-56958" class="dsq-comment-body">
            <div id="dsq-comment-message-56958" class="dsq-comment-message"><p>TouchId response is very slow in my app. I did all the code in app delegate in applicationdidfinishlaunching method.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-68458">
        <div id="dsq-comment-header-68458" class="dsq-comment-header">
            <cite id="dsq-cite-68458">
                <span id="dsq-author-user-68458">Ferdi Duisters</span>
            </cite>
        </div>
        <div id="dsq-comment-body-68458" class="dsq-comment-body">
            <div id="dsq-comment-message-68458" class="dsq-comment-message"><p>Could you please re-add the screenshots <img src="http://www.appcoda.com/wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-69691">
        <div id="dsq-comment-header-69691" class="dsq-comment-header">
            <cite id="dsq-cite-69691">
http://www.appcoda.com/                <span id="dsq-author-user-69691">Simon Ng</span>
            </cite>
        </div>
        <div id="dsq-comment-body-69691" class="dsq-comment-body">
            <div id="dsq-comment-message-69691" class="dsq-comment-message"><p>Just added.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-69698">
        <div id="dsq-comment-header-69698" class="dsq-comment-header">
            <cite id="dsq-cite-69698">
                <span id="dsq-author-user-69698">Ferdi Duisters</span>
            </cite>
        </div>
        <div id="dsq-comment-body-69698" class="dsq-comment-body">
            <div id="dsq-comment-message-69698" class="dsq-comment-message"><p>I thank you!</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-73431">
        <div id="dsq-comment-header-73431" class="dsq-comment-header">
            <cite id="dsq-cite-73431">
                <span id="dsq-author-user-73431">LittlePeculiar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-73431" class="dsq-comment-body">
            <div id="dsq-comment-message-73431" class="dsq-comment-message"><p>Fantastic as always &#8211; Thank you</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-76136">
        <div id="dsq-comment-header-76136" class="dsq-comment-header">
            <cite id="dsq-cite-76136">
                <span id="dsq-author-user-76136">Nix</span>
            </cite>
        </div>
        <div id="dsq-comment-body-76136" class="dsq-comment-body">
            <div id="dsq-comment-message-76136" class="dsq-comment-message"><p>Why &#8220;As an advice, dont use alert views to ask for a password, its a really bad idea.&#8221;? More detail?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-85344">
        <div id="dsq-comment-header-85344" class="dsq-comment-header">
            <cite id="dsq-cite-85344">
                <span id="dsq-author-user-85344">Adrian</span>
            </cite>
        </div>
        <div id="dsq-comment-body-85344" class="dsq-comment-body">
            <div id="dsq-comment-message-85344" class="dsq-comment-message"><p>Great work! Thanks so much for this, helped me a lot.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-86259">
        <div id="dsq-comment-header-86259" class="dsq-comment-header">
            <cite id="dsq-cite-86259">
                <span id="dsq-author-user-86259">Gugulethu Mhlanga</span>
            </cite>
        </div>
        <div id="dsq-comment-body-86259" class="dsq-comment-body">
            <div id="dsq-comment-message-86259" class="dsq-comment-message"><p>How do I ensure the user enters a passcode in the number method instead of the string. The way the unlock passcode is.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-86415">
        <div id="dsq-comment-header-86415" class="dsq-comment-header">
            <cite id="dsq-cite-86415">
                <span id="dsq-author-user-86415">Adrian</span>
            </cite>
        </div>
        <div id="dsq-comment-body-86415" class="dsq-comment-body">
            <div id="dsq-comment-message-86415" class="dsq-comment-message"><p>Quick question on this, is it possible to get the TouchID dialog to show in landscape mode?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-92075">
        <div id="dsq-comment-header-92075" class="dsq-comment-header">
            <cite id="dsq-cite-92075">
                <span id="dsq-author-user-92075">Joshua Schwartz</span>
            </cite>
        </div>
        <div id="dsq-comment-body-92075" class="dsq-comment-body">
            <div id="dsq-comment-message-92075" class="dsq-comment-message"><p>I have been having a bit of an issue, I loaded the code as the article suggested, but I&#8217;m getting two errors, and Xcode 6 will not load the &#8216;Build&#8217;. I&#8217;m very new to this, so if I&#8217;m missing something obvious, or someone could help me, I would really appreciate it.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="post pingback">
        <p>Pingback: <a href='http://prolificinteractive.com/blog/2015/01/21/tutorial-introduction-touchid-swift/' rel='external nofollow' class='url'>Tutorial: Use Touch ID in Your Swift App - Prolific Interactive NYC and SF Mobile Development, Design, and Strategy</a>()</p>
    </li>
    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-99608">
        <div id="dsq-comment-header-99608" class="dsq-comment-header">
            <cite id="dsq-cite-99608">
                <span id="dsq-author-user-99608">mm</span>
            </cite>
        </div>
        <div id="dsq-comment-body-99608" class="dsq-comment-body">
            <div id="dsq-comment-message-99608" class="dsq-comment-message"><p>hey man thanks for this amazing tutorial can i ask you that if i add a photo to the notes from the photo library how can i save it can you plz help me</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-99609">
        <div id="dsq-comment-header-99609" class="dsq-comment-header">
            <cite id="dsq-cite-99609">
                <span id="dsq-author-user-99609">mm</span>
            </cite>
        </div>
        <div id="dsq-comment-body-99609" class="dsq-comment-body">
            <div id="dsq-comment-message-99609" class="dsq-comment-message"><p>what i mean exactly to save it like we saved the notes</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-99684">
        <div id="dsq-comment-header-99684" class="dsq-comment-header">
            <cite id="dsq-cite-99684">
                <span id="dsq-author-user-99684">mm</span>
            </cite>
        </div>
        <div id="dsq-comment-body-99684" class="dsq-comment-body">
            <div id="dsq-comment-message-99684" class="dsq-comment-message"><p>hi<br />
can i add the system time when note is saved</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="post pingback">
        <p>Pingback: <a href='http://rss.kcygo.com/?p=26801' rel='external nofollow' class='url'>iOS 8 SDKTouch ID API | </a>()</p>
    </li>
    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-101209">
        <div id="dsq-comment-header-101209" class="dsq-comment-header">
            <cite id="dsq-cite-101209">
                <span id="dsq-author-user-101209">refikonal</span>
            </cite>
        </div>
        <div id="dsq-comment-body-101209" class="dsq-comment-body">
            <div id="dsq-comment-message-101209" class="dsq-comment-message"><p>Well written i suppose but can&#8217;t follow with Xcode 6,2. Is there an updated version ?</p>
</div>
        </div>

    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.appcoda.com/touch-id-api-ios8/';
var disqus_identifier = '4046 http://www.appcoda.com/?p=4046';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'appcoda';
var disqus_title = "Working with Touch ID API in iOS 8 SDK";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=4046';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

</div><div id="sidebar" class="sidebar widget-area"><div id="search-4" class="widget widget_search"><div class="widget-wrap"><form role="search" method="get" id="searchform" class="searchform" action="http://www.appcoda.com/" >
                    <div><label class="screen-reader-text" for="s">Search for:</label>
                    <input type="text" value="" name="s" id="s" />
                    <input type="submit" id="searchsubmit" value="Search" />
                    </div>
                    </form></div></div>
<div id="text-2" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Sign Up for Our Free Tutorials</h4>
			<div class="textwidget"><div class="enews"><form action="http://sendy.appcoda.com/sendy/subscribe" method="post" id="subscribe" name="mc-embedded-subscribe-form" class="validate" target="_blank" accept-charset="utf-8">
	<input type="email" id="subbox" value="" name="email" class="email" id="mce-EMAIL" placeholder="Enter your email address" required><input type="submit" value="Subscribe" name="subscribe" id="subbutton" class="button">
	<input type="hidden" name="list" value="KEdC8BeT8EC8znOnfjSQAw"/>
</form>
</div></div>
		</div></div>
<div id="text-6" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><!-- BuySellAds Zone Code -->
<div id="bsap_1283996" class="bsarocks bsap_459a84cf8fa0d5ea9dccfcfd1c3531e0"></div>
<!-- End BuySellAds Zone Code --></div>
		</div></div>
<div id="text-4" class="widget widget_text"><div class="widget-wrap">			<div class="textwidget"><div class="fb-like-box" data-href="http://www.facebook.com/appcodamobile" data-width="300" data-height="260" data-show-faces="true" data-border-color="#F1F1F1" data-stream="false" data-header="false"></div></div>
		</div></div>
		<div id="recent-posts-3" class="widget widget_recent_entries"><div class="widget-wrap">		<h4 class="widget-title widgettitle">Recent Posts</h4>
		<ul>
					<li>
				<a href="http://www.appcoda.com/react-native-introduction/">Introduction to React Native: Building iOS Apps with JavaScript</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/cloudkit-introduction-tutorial/">Working with CloudKit in iOS 8</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/instagram-app-parse-swift/">Building an Instagram-Like App with Parse and Swift</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/google-maps-api-tutorial/">A Swift Tutorial for Google Maps SDK</a>
						</li>
					<li>
				<a href="http://www.appcoda.com/ios8-share-extension-swift/">Building a Simple Share Extension in iOS 8 App</a>
						</li>
				</ul>
		</div></div>
<div id="wp_insert_ad_widget-3" class="widget widget_wp_insert_ad_widget"><div class="widget-wrap"><div class="wpInsert wpInsertAdWidget" style="margin: 5px; padding: 0px;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Premium Large Skyscraper -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-8501671653071605"
     data-ad-slot="6120307730"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div></div>
<div id="nav_menu-3" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Connect With Us</h4>
<div class="menu-sidebar-container"><ul id="menu-sidebar" class="menu"><li id="menu-item-57" class="social-twitter menu-item menu-item-type-custom menu-item-object-custom menu-item-57"><a href="http://twitter.com/appcodamobile">Twitter</a></li>
<li id="menu-item-58" class="social-facebook menu-item menu-item-type-custom menu-item-object-custom menu-item-58"><a href="http://facebook.com/appcodamobile">Facebook</a></li>
<li id="menu-item-59" class="social-rss menu-item menu-item-type-custom menu-item-object-custom menu-item-59"><a href="http://feeds.feedburner.com/appcoda">RSS</a></li>
<li id="menu-item-68" class="social-plus menu-item menu-item-type-custom menu-item-object-custom menu-item-68"><a href="https://plus.google.com/b/118438564257465271998/">Google Plus</a></li>
</ul></div></div></div>
</div></div></div></div><div id="footer-widgets" class="footer-widgets"><div class="wrap"><div class="footer-widgets-1 widget-area"><div id="nav_menu-4" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">About AppCoda</h4>
<div class="menu-default-container"><ul id="menu-default-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-26"><a href="http://www.appcoda.com/about/">About</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-28"><a href="http://www.appcoda.com/tutorials/">Tutorials</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-530"><a href="http://www.appcoda.com/ios-programming-course/">Course</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3045"><a title="Swift Programming Book for iOS 8" href="http://www.appcoda.com/swift">Book</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2140"><a href="http://www.appcoda.com/ios-app-kit/ios-game-kit.html">Game Kit</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-710"><a href="http://www.appcoda.com/marketplace/">Marketplace</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="http://www.appcoda.com/contact/">Contact</a></li>
</ul></div></div></div>
</div><div class="footer-widgets-2 widget-area"><div id="text-9" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Get Our New Book</h4>
			<div class="textwidget"><a href="http://www.appcoda.com/swift/"><img src="http://www.appcoda.com/wp-content/uploads/2014/10/swift-book-cover-227x300.png" alt="Beginning iOS 8 Programming with Swift" class="alignleft size-medium wp-image-4153" /></a></div>
		</div></div>
</div><div class="footer-widgets-3 widget-area"><div id="nav_menu-5" class="widget widget_nav_menu"><div class="widget-wrap"><h4 class="widget-title widgettitle">Connect With Us</h4>
<div class="menu-sidebar-container"><ul id="menu-sidebar-1" class="menu"><li class="social-twitter menu-item menu-item-type-custom menu-item-object-custom menu-item-57"><a href="http://twitter.com/appcodamobile">Twitter</a></li>
<li class="social-facebook menu-item menu-item-type-custom menu-item-object-custom menu-item-58"><a href="http://facebook.com/appcodamobile">Facebook</a></li>
<li class="social-rss menu-item menu-item-type-custom menu-item-object-custom menu-item-59"><a href="http://feeds.feedburner.com/appcoda">RSS</a></li>
<li class="social-plus menu-item menu-item-type-custom menu-item-object-custom menu-item-68"><a href="https://plus.google.com/b/118438564257465271998/">Google Plus</a></li>
</ul></div></div></div>
<div id="text-3" class="widget widget_text"><div class="widget-wrap"><h4 class="widget-title widgettitle">Email Newsletter</h4>
			<div class="textwidget"><p>Sign up to receive free tutorial and
to hear what's going on with AppCoda!</p>
<div class="enews"><form action="http://sendy.appcoda.com/sendy/subscribe" method="post" id="subscribe" name="mc-embedded-subscribe-form" class="validate" target="_blank" accept-charset="utf-8">
	<input type="email" id="subbox" value="" name="email" class="email" id="mce-EMAIL" placeholder="Enter your email address" required><input type="submit" value="Subscribe" name="subscribe" id="subbutton" class="button">
	<input type="hidden" name="list" value="KEdC8BeT8EC8znOnfjSQAw"/>
</form>
</div></div>
		</div></div>
</div></div></div><div id="footer" class="footer"><div class="wrap">    <p>&copy; Copyright 2015 <a href="http://appcoda.com/">AppCoda</a> &middot; All Rights Reserved &middot; Powered by <a href="http://wordpress.org/">WordPress &middot; <a href="http://www.appcoda.com/privacy-policy">Privacy Policy</a> &middot; <a href="http://www.appcoda.com/terms-of-service/">Terms of Service</a></p>
    </div></div></div><!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code -->
<script src="/prismjs/prism.js"></script>        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'appcoda';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
                    <!-- Version: 0.3.3 -->
            <script type="text/javascript">
                var EjSocialSlideoutJsApi_Settings =
                {
                    SliderImage: "<img width=\"150\" height=\"150\" src=\"http:\/\/www.appcoda.com\/wp-content\/uploads\/2015\/04\/appcoda-300-150x150.png\" class=\"attachment-thumbnail\" alt=\"appcoda-300\" \/>",
                    SocialProfiles: {"Facebook":{"Name":"Facebook","NetworkId":"Facebook","IsActive":true,"Id":"appcodamobile","Title":"Follow Us on Facebook","Description":"And get free tutorial updates"},"Twitter":{"Name":"Twitter","NetworkId":"Twitter","IsActive":true,"Id":"appcodamobile","Title":"Follow Us on Twitter","Description":"And get free tutorial updates"}},
                    Preview: false
                                    };

                if (typeof (EjSocialSlideoutJsApi) !== "undefined")
                    EjSocialSlideoutJsApi.SettingsLoaded(EjSocialSlideoutJsApi_Settings);
            </script>
            <div id='ej-ss-slideout-dom-templates' style='display:none'><div id='ej-ss-slideout-dom-template-facebook'><div class='fb-follow' data-href='https://www.facebook.com/appcodamobile' data-width='210' data-colorscheme='light' data-layout='standard' data-show-faces='true'></div></div><div id='ej-ss-slideout-dom-template-twitter'><a href='https://twitter.com/appcodamobile' class='twitter-follow-button' data-show-count='true' data-size='medium'>Follow @appcodamobile</a></div></div><div class="et_social_sidebar_networks et_social_visible_sidebar et_social_slideright et_social_animated et_social_rectangle et_social_sidebar_flip et_social_sidebar_withcounts et_social_withtotalcount et_social_mobile_off">
					<div class="et_social_totalcount et_social_dark">
							<span class="et_social_totalcount_count et_social_total_share" data-post_id="4046"></span>
							<span class="et_social_totalcount_label">Shares</span>
						</div>
					<ul class="et_social_icons_container"><li class="et_social_facebook">
									<a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;t=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK" class="et_social_share" rel="nofollow" data-social_name="facebook" data-post_id="4046" data-social_type="share">
										<i class="et_social_icon et_social_icon_facebook"></i>
										
										<div class="et_social_count"><span>108</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li><li class="et_social_twitter">
									<a href="http://twitter.com/share?text=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK&#038;url=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;via=appcodamobile" class="et_social_share" rel="nofollow" data-social_name="twitter" data-post_id="4046" data-social_type="share">
										<i class="et_social_icon et_social_icon_twitter"></i>
										
										<div class="et_social_count"><span>31</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li><li class="et_social_googleplus">
									<a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;t=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK" class="et_social_share" rel="nofollow" data-social_name="googleplus" data-post_id="4046" data-social_type="share">
										<i class="et_social_icon et_social_icon_googleplus"></i>
										
										<div class="et_social_count"><span>11</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li><li class="et_social_linkedin">
									<a href="http://www.linkedin.com/shareArticle?mini=true&#038;url=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;title=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK" class="et_social_share" rel="nofollow" data-social_name="linkedin" data-post_id="4046" data-social_type="share">
										<i class="et_social_icon et_social_icon_linkedin"></i>
										
										<div class="et_social_count"><span>13</span></div>
										<span class="et_social_overlay"></span>
									</a>
								</li></ul>
					<span class="et_social_hide_sidebar et_social_icon"></span>
				</div><div class="et_social_flyin et_social_resize et_social_flyin_bottom_right et_social_slideup et_social_trigger_bottom et_social_mobile_on">
					<a href="#" class="et_social_icon et_social_icon_cancel"></a>
					<div class="et_social_header">
						<h3>Share This</h3>
						<p>Share this post with your friends!</p>
					</div>
					<div class="et_social_networks et_social_2col et_social_slide et_social_rectangle et_social_left et_social_withnetworknames">
						
						<ul class="et_social_icons_container"><li class="et_social_facebook"><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;t=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK" class="et_social_share" rel="nofollow" data-social_name="facebook" data-post_id="4046" data-social_type="share"><i class="et_social_icon et_social_icon_facebook"></i><div class="et_social_network_label"><div class="et_social_networkname">Facebook</div></div><span class="et_social_overlay"></span></a></li><li class="et_social_twitter"><a href="http://twitter.com/share?text=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK&#038;url=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;via=appcodamobile" class="et_social_share" rel="nofollow" data-social_name="twitter" data-post_id="4046" data-social_type="share"><i class="et_social_icon et_social_icon_twitter"></i><div class="et_social_network_label"><div class="et_social_networkname">Twitter</div></div><span class="et_social_overlay"></span></a></li><li class="et_social_googleplus"><a href="https://plus.google.com/share?url=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;t=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK" class="et_social_share" rel="nofollow" data-social_name="googleplus" data-post_id="4046" data-social_type="share"><i class="et_social_icon et_social_icon_googleplus"></i><div class="et_social_network_label"><div class="et_social_networkname">Google+</div></div><span class="et_social_overlay"></span></a></li><li class="et_social_linkedin"><a href="http://www.linkedin.com/shareArticle?mini=true&#038;url=http%3A%2F%2Fwww.appcoda.com%2Ftouch-id-api-ios8%2F&#038;title=Working%20with%20Touch%20ID%20API%20in%20iOS%208%20SDK" class="et_social_share" rel="nofollow" data-social_name="linkedin" data-post_id="4046" data-social_type="share"><i class="et_social_icon et_social_icon_linkedin"></i><div class="et_social_network_label"><div class="et_social_networkname">LinkedIn</div></div><span class="et_social_overlay"></span></a></li></ul>
					</div>
				</div><span></span><style type="text/css" class="fluid-images">img{max-width:100%;height:auto;}</style><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
var _wpmejsSettings = {"pluginPath":"\/wp-includes\/js\/mediaelement\/"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/mediaelement/mediaelement-and-player.min.js?ver=2.16.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/mediaelement/wp-mediaelement.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.appcoda.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.1.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/monarch/js/idle-timer.min.js?ver=1.2.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var monarchSettings = {"ajaxurl":"http:\/\/www.appcoda.com\/wp-admin\/admin-ajax.php","pageurl":"http:\/\/www.appcoda.com\/touch-id-api-ios8\/","stats_nonce":"3c279d6f27","share_counts":"41afbcf48b","follow_counts":"80583e3ade","total_counts":"861aff4fd8","media_single":"ed7cd3edd6","media_total":"e88d48f2ea","generate_all_window_nonce":"6da8221303","no_img_message":"No images available for sharing on this page"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/plugins/monarch/js/custom.js?ver=1.2.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-includes/js/comment-reply.min.js?ver=4.2.1'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/themes/genesis/lib/js/menu/superfish.min.js?ver=1.7.4'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/themes/genesis/lib/js/menu/superfish.args.min.js?ver=2.1.2'></script>
<script type='text/javascript' src='http://www.appcoda.com/wp-content/themes/genesis/lib/js/menu/superfish.compat.min.js?ver=2.1.2'></script>
<!-- This site converts visitors into subscribers and customers with the OptinMonster WordPress plugin v2.1.6.6 - http://optinmonster.com/ -->
<div id="om-d7egu9k5k9-lightbox" class="optin-monster-overlay" style="display:none;"><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script><style type="text/css" class="om-theme-case-study-styles">.optin-monster-success-message {font-size: 21px;font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;color: #282828;font-weight: 300;text-align: center;margin: 0 auto;}.optin-monster-success-overlay .om-success-close {font-size: 32px !important;font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif !important;color: #282828 !important;font-weight: 300 !important;position: absolute !important;top: 0px !important;right: 10px !important;background: none !important;text-decoration: none !important;width: auto !important;height: auto !important;display: block !important;line-height: 32px !important;padding: 0 !important;}.om-helper-field {display: none !important;visibility: hidden !important;opacity: 0 !important;height: 0 !important;line-height: 0 !important;}html div#om-d7egu9k5k9-lightbox * {box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;}html div#om-d7egu9k5k9-lightbox {background:none;border:0;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;float:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing: grayscale;height:auto;letter-spacing:normal;outline:none;position:static;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;width:auto;visibility:visible;overflow:visible;margin:0;padding:0;line-height:1;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none;-o-box-shadow:none;box-shadow:none;-webkit-appearance:none;}html div#om-d7egu9k5k9-lightbox {background: rgb(0, 0, 0);background: rgba(0, 0, 0, .7);font-family: helvetica,arial,sans-serif;-moz-osx-font-smoothing: grayscale;-webkit-font-smoothing: antialiased;line-height: 1;width: 100%;height: 100%;}html div#om-d7egu9k5k9-lightbox .om-clearfix {clear: both;}html div#om-d7egu9k5k9-lightbox .om-clearfix:after {clear: both;content: ".";display: block;height: 0;line-height: 0;overflow: auto;visibility: hidden;zoom: 1;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin {background: #fff;display: none;position: absolute;top: 50%;left: 50%;min-height: 175px;max-width: 700px;width: 100%;z-index: 734626274;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-wrap {position: relative;height: 100%;}html div#om-d7egu9k5k9-lightbox .om-close {position: absolute;top: -12px;right: -12px;text-decoration: none !important;display: block;width: 35px;height: 35px;background: url("http://www.appcoda.com/wp-content/plugins/optin-monster/assets/css/images/close.png") no-repeat scroll 0 0;z-index: 1500;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-bar {margin-bottom: 20px;clear: both;}html div#om-d7egu9k5k9-lightbox .om-bar {float: left;width: 25%;height: 11px;display: block;}html div#om-d7egu9k5k9-lightbox .om-red-bar {background-color: #ef3e36;}html div#om-d7egu9k5k9-lightbox .om-green-bar {background-color: #abb92e;}html div#om-d7egu9k5k9-lightbox .om-orange-bar {background-color: #f57826;}html div#om-d7egu9k5k9-lightbox .om-blue-bar {background-color: #17b4e9;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-header {min-height: 30px;padding: 15px;width: 100%;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-title {font-size: 24px;color: #484848;width: 100%;margin-bottom: 15px;text-shadow: 0 1px #fff;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-tagline {font-size: 16px;line-height: 1.25;color: #484848;width: 100%;margin-bottom: 30px;text-shadow: 0 1px #fff;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-content {padding: 15px;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-left {float: left;max-width: 280px;width: 100%;position: relative;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-image-container {position: relative;max-width: 280px;max-height: 245px;margin: 0 auto;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-image-container img {display: block;margin: 0 auto;text-align: center;height: auto;max-width: 100%;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-right {float: right;max-width: 370px;width: 100%;background-color: #dadada;margin-right: -15px;padding: 20px;position: relative;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-arrow {position: absolute;width: 49px;height: 56px;left: -40px;top: -40px;}html div#om-d7egu9k5k9-lightbox label {color: #333;}html div#om-d7egu9k5k9-lightbox input,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-name,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-email {background-color: #fff;width: 100%;border: 1px solid #ccc;font-size: 16px;line-height: 24px;padding: 10px 6px;overflow: hidden;outline: none;margin: 0 0 15px;vertical-align: middle;height: 46px;}html div#om-d7egu9k5k9-lightbox input[type=submit],html div#om-d7egu9k5k9-lightbox button,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-submit {background: #484848;border: 1px solid #484848;width: 100%;color: #fff;font-size: 20px;padding: 12px 6px;line-height: 28px;text-align: center;vertical-align: middle;cursor: pointer;margin: 0;height: 54px;}html div#om-d7egu9k5k9-lightbox input[type=checkbox],html div#om-d7egu9k5k9-lightbox input[type=radio] {-webkit-appearance: checkbox;width: auto;outline: invert none medium;padding: 0;margin: 0;}@media (max-width: 700px) {html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin[style] {width: 100%;position: relative;}html div#om-d7egu9k5k9-lightbox .om-close {right: 9px;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-left,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-right,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-name,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-email,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-submit,html div#om-d7egu9k5k9-lightbox .om-has-email #om-lightbox-case-study-optin-email {float: none;width: 100%;max-width: 100%;}html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-left,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-name,html div#om-d7egu9k5k9-lightbox #om-lightbox-case-study-optin-email {margin-bottom: 15px;}}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx) {html div#om-d7egu9k5k9-lightbox .om-close {background-image: url("http://www.appcoda.com/wp-content/plugins/optin-monster/assets/css/images/<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="accfc0c3dfc9ec9ed482dcc2cb">[email&#160;protected]</a><script cf-hash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]> */</script>");background-size: 35px 35px;}}</style><div id="om-lightbox-case-study-optin" class="om-lightbox-case-study om-clearfix om-theme-case-study om-custom-html-form"><div id="om-lightbox-case-study-optin-wrap" class="om-clearfix"><a href="#" class="om-close" title="Close"></a><div id="om-lightbox-case-study-optin-bar" class="om-clearfix"><span class="om-bar om-red-bar"></span><span class="om-bar om-green-bar"></span><span class="om-bar om-orange-bar"></span><span class="om-bar om-blue-bar"></span></div><div id="om-lightbox-case-study-header" class="om-clearfix"><div id="om-lightbox-case-study-optin-title" data-om-action="editable" data-om-field="title" style="color:#484848;font-family:Bree Serif;font-size:32px;text-align:center;"><span style="font-family:montserrat;">FREE Swift Programming Course</span></div><div id="om-lightbox-case-study-optin-tagline" data-om-action="editable" data-om-field="tagline" style="color:#484848;font-family:Open Sans;font-size:24px;text-align:center;"><span style="font-family:montserrat;">Sign up today and get a 7 day email course with free tips and ebook chapters for starting app development.</span></div></div><div id="om-lightbox-case-study-content" class="om-clearfix"><div id="om-lightbox-case-study-left"><div id="om-lightbox-case-study-optin-image-container" class="om-image-container om-clearfix"><img class="optin-monster-image optin-monster-image-lightbox-case-study" src="http://www.appcoda.com/wp-content/uploads/2015/01/swift-free-course-280x245.jpg" alt="" title="swift-free-course" /></div></div><div id="om-lightbox-case-study-right"><img id="om-lightbox-case-study-arrow" src="http://www.appcoda.com/wp-content/plugins/optin-monster/includes/themes/case-study/images/arrow.png" alt="Arrow" /><form action="http://sendy.appcoda.com/sendy/subscribe" method="POST" accept-charset="utf-8">
<input id="om-lightbox-case-study-optin-name" type="text" name="name" value="" data-om-action="selectable" data-om-target="#optin-monster-field-name_field" placeholder="Enter your name here..." style="color:#484848;font-family:Montserrat;">
<input id="om-lightbox-case-study-optin-email" type="email" name="email" value="" data-om-action="selectable" data-om-target="#optin-monster-field-email_field" placeholder="Enter your email address here..." style="color:#484848;font-family:Montserrat;">
<input id="om-lightbox-case-study-optin-submit" type="submit" data-om-action="selectable" data-om-target="#optin-monster-field-submit_field" value="Send me the course" style="color:#ffffff;background-color:#484848;border-color:#484848;font-family:Montserrat;">
<input type="hidden" name="list" value="neAW97jagVmb3C3O892VnnLA"/>
</form></div></div></div><input type="email" name="email" value="" class="om-helper-field" /><input type="text" name="website" value="" class="om-helper-field" /></div><script type="text/javascript">jQuery(document).ready(function($){WebFont.load({google: {families: ['Montserrat%7CBree+Serif%7COpen+Sans']}});});</script></div>
<script type="text/javascript">var d7egu9k5k9_lightbox, omo = {"id":4744,"optin":"d7egu9k5k9-lightbox","campaign":"Free Swift Programming Course","clones":[""],"hash":"d7egu9k5k9-lightbox","optin_js":"d7egu9k5k9_lightbox","type":"lightbox","theme":"case-study","cookie":30,"delay":5000,"second":0,"exit":1,"redirect":"","redirect_pass":false,"custom":true,"test":false,"global_cookie":23320,"preview":false,"ajax":"http:\/\/www.appcoda.com\/?optin-monster-ajax-route=1","mobile":false,"post_id":4046,"preloader":"http:\/\/www.appcoda.com\/wp-content\/plugins\/optin-monster\/assets\/css\/images\/preloader.gif","error":"There was an error with your submission. Please try again.","ajax_error":"There was an error with the AJAX request: ","name_error":"Please enter a valid name.","email_error":"Please enter a valid email address.","bot_error":"Honeypot fields have been activated. Your submission is being flagged as potential spam.","success":"Thanks for subscribing! Please check your email for further instructions.","exit_sensitivity":20}; d7egu9k5k9_lightbox = new OptinMonster(); d7egu9k5k9_lightbox.init(omo);</script>
<!--[if lte IE 9]><script type="text/javascript">var om_ie_browser = true;</script><![endif]--><!-- / OptinMonster WordPress plugin. -->
</body>
</html>

<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using disk: enhanced

 Served from: www.appcoda.com @ 2015-05-04 12:21:16 by W3 Total Cache -->